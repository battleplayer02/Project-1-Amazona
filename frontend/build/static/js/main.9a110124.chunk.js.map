{"version":3,"sources":["components/ChatBox.js","components/Footer.js","actions/userActions.js","constants/userConstants.js","components/SearchBox.js","components/LoadingBox.js","components/MessageBox.js","components/Header.js","components/Rating.js","components/Product.js","actions/productActions.js","screens/HomeScreen.js","constants/cartConstants.js","actions/orderActions.js","constants/orderConstants.js","screens/OrderHistoryScreen.js","screens/OrderScreen.js","actions/cartActions.js","components/CheckoutSteps.js","screens/PaymentMethodScreen.js","screens/PlaceOrderScreen.js","screens/ProductListScreen.js","screens/ProductScreen.js","screens/ProfileScreen.js","screens/RegisterScreen.js","screens/ShippingAddressScreen.js","screens/SigninScreen.js","screens/ProductEditScreen.js","screens/OrderListScreen.js","screens/UserListScreen.js","screens/UserEditScreen.js","screens/SellerScreen.js","utils.js","screens/SearchScreen.js","screens/MapScreen.js","screens/DashboardScreen.js","screens/SupportScreen.js","components/PrivateRoute.js","components/AdminRoute.js","components/SellerRoute.js","screens/CartScreen.js","screens/OrderSucess.js","components/AllRouts.js","App.js","reducers/productReducers.js","store.js","reducers/cartReducers.js","reducers/userReducers.js","reducers/orderReducers.js","index.js","constants/productConstants.js"],"names":["ENDPOINT","window","location","host","indexOf","ChatBox","props","userInfo","useState","socket","setSocket","uiMessagesRef","useRef","isOpen","setIsOpen","messageBody","setMessageBody","name","body","messages","setMessages","useEffect","current","scrollBy","top","clientHeight","left","behavior","emit","_id","isAdmin","on","data","className","type","onClick","ref","map","msg","index","key","onSubmit","e","preventDefault","trim","setTimeout","alert","value","onChange","target","placeholder","console","log","sk","socketIOClient","Footer","useSelector","state","userSignin","detailsUser","userId","dispatch","getState","a","payload","Axios","get","headers","Authorization","token","message","response","SearchBox","setName","history","push","id","LoadingBox","width","height","viewBox","xmlns","fill","strokeWidth","strokeLinecap","cx","cy","r","MessageBox","variant","children","Header","cartItems","cart","useDispatch","productCategoryList","loadingCategories","loading","errorCategories","error","categories","setSidebarIsOpen","to","render","length","localStorage","removeItem","document","href","isSeller","sidebarIsOpen","c","Rating","rating","numReviews","caption","Product","product","src","image","alt","price","seller","listProducts","pageNumber","category","order","min","max","PRODUCT_LIST_REQUEST","PRODUCT_LIST_SUCCESS","PRODUCT_LIST_FAIL","detailsProduct","productId","PRODUCT_DETAILS_REQUEST","PRODUCT_DETAILS_SUCCESS","PRODUCT_DETAILS_FAIL","HomeScreen","productList","products","detailsOrder","orderId","payOrder","paymentResult","put","deliverOrder","OrderHistoryScreen","orderMineList","orders","createdAt","substring","totalPrice","toFixed","isPaid","paidAt","isDelivered","deliveredAt","OrderScreen","match","params","orderDetails","orderPay","successPay","success","orderDeliver","loadingDeliver","errorDeliver","successDeliver","stringifyValue","val","isObj","Object","prototype","toString","call","isDate","JSON","stringify","post","details","form","action","createElement","setAttribute","keys","forEach","input","appendChild","buildForm","submit","remove","amount","email","orderid","information","shippingAddress","fullName","address","city","postalCode","country","paymentMethod","orderItems","item","qty","itemsPrice","shippingPrice","taxPrice","addToCart","countInStock","setItem","saveShippingAddress","CheckoutSteps","step1","step2","step3","step4","PaymentMethodScreen","setPaymentMethod","required","checked","htmlFor","PlaceOrderScreen","orderCreate","toPrice","num","Number","reduce","createOrder","disabled","ProductListScreen","useParams","sellerMode","path","page","pages","productCreate","loadingCreate","errorCreate","successCreate","createdProduct","productDelete","loadingDelete","errorDelete","successDelete","PRODUCT_CREATE_RESET","PRODUCT_DELETE_RESET","deleteHandler","confirm","PRODUCT_DELETE_REQUEST","delete","PRODUCT_DELETE_SUCCESS","PRODUCT_DELETE_FAIL","PRODUCT_CREATE_REQUEST","PRODUCT_CREATE_SUCCESS","PRODUCT_CREATE_FAIL","brand","Array","x","ProductScreen","setQty","productDetails","productReviewCreate","loadingReviewCreate","errorReviewCreate","successReviewCreate","setRating","comment","setComment","PRODUCT_REVIEW_CREATE_RESET","description","reviews","review","PRODUCT_REVIEW_CREATE_REQUEST","PRODUCT_REVIEW_CREATE_SUCCESS","PRODUCT_REVIEW_CREATE_FAIL","createReview","ProfileScreen","setEmail","password","setPassword","confirmPassword","setConfirmPassword","sellerName","setSellerName","sellerLogo","setSellerLogo","sellerDescription","setSellerDescription","userDetails","user","userUpdateProfile","successUpdate","errorUpdate","loadingUpdate","logo","updateUserProfile","RegisterScreen","redirect","search","split","userRegister","register","ShippingAddressScreen","lat","setLat","lng","setLng","addressMap","userAddressMap","setFullName","setAddress","setCity","setPostalCode","setCountry","newLat","newLng","moveOn","SigninScreen","signin","ProductEditScreen","setPrice","setImage","setCategory","setCountInStock","setBrand","setDescription","productUpdate","PRODUCT_UPDATE_RESET","loadingUpload","setLoadingUpload","errorUpload","setErrorUpload","uploadFileHandler","file","files","bodyFormData","FormData","append","PRODUCT_UPDATE_REQUEST","PRODUCT_UPDATE_SUCCESS","PRODUCT_UPDATE_FAIL","updateProduct","label","rows","OrderListScreen","orderList","orderDelete","listOrders","UserListScreen","userList","users","userDelete","UserEditScreen","setIsSeller","setIsAdmin","userUpdate","updateUser","SellerScreen","sellerId","loadingProducts","errorProducts","prices","ratings","SearchScreen","getFilterUrl","filter","filterPage","filterCategory","filterName","filterRating","sortOrder","filterMin","filterMax","p","libs","defaultLocation","MapScreen","googleApiKey","setGoogleApiKey","center","setCenter","setLocation","mapRef","placeRef","markerRef","getUserCurrentLocation","fetch","navigator","geolocation","getCurrentPosition","position","coords","latitude","longitude","libraries","googleMapsApiKey","mapContainerStyle","zoom","onLoad","onIdle","place","onPlacesChanged","getPlaces","geometry","places","formatted_address","vicinity","googleAddressId","marker","DashboardScreen","orderSummary","summary","numUsers","numOrders","totalSales","dailyOrders","chartType","loader","sales","productCategories","count","allUsers","allMessages","allSelectedUser","SupportScreen","selectedUser","setSelectedUser","setUsers","existUser","find","unread","updatedUser","updatedUsers","selectUser","online","PrivateRoute","Component","component","rest","AdminRoute","SellerRoute","CartScreen","removeFromCartHandler","removeFromCart","loadingPay","successPaymentHandler","status","STATUS","update_time","TXNDATE","email_address","AllRouts","exact","OrderSucess","App","PRODUCT_CATEGORY_LIST_REQUEST","PRODUCT_CATEGORY_LIST_SUCCESS","PRODUCT_CATEGORY_LIST_FAIL","require","initialState","getItem","parse","reducer","combineReducers","existItem","userTopSellersList","composeEnhancer","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunk","ReactDOM","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.9a110124.chunk.js","sourcesContent":["import React, { useEffect, useRef, useState } from 'react';\r\nimport socketIOClient from 'socket.io-client';\r\n\r\nconst ENDPOINT =\r\n  window.location.host.indexOf('localhost') >= 0\r\n    ? 'http://127.0.0.1:5000'\r\n    : window.location.host;\r\n\r\nexport default function ChatBox(props) {\r\n  const { userInfo } = props;\r\n  const [socket, setSocket] = useState(null);\r\n  const uiMessagesRef = useRef(null);\r\n  const [isOpen, setIsOpen] = useState(false);\r\n  const [messageBody, setMessageBody] = useState('');\r\n  const [messages, setMessages] = useState([\r\n    { name: 'Admin', body: 'Hello there, Please ask your question.' },\r\n  ]);\r\n\r\n  useEffect(() => {\r\n    if (uiMessagesRef.current) {\r\n      uiMessagesRef.current.scrollBy({\r\n        top: uiMessagesRef.current.clientHeight,\r\n        left: 0,\r\n        behavior: 'smooth',\r\n      });\r\n    }\r\n    if (socket) {\r\n      socket.emit('onLogin', {\r\n        _id: userInfo._id,\r\n        name: userInfo.name,\r\n        isAdmin: userInfo.isAdmin,\r\n      });\r\n      socket.on('message', (data) => {\r\n        setMessages([...messages, { body: data.body, name: data.name }]);\r\n      });\r\n    }\r\n  }, [messages, isOpen, socket, userInfo]);\r\n\r\n  const supportHandler = () => {\r\n    setIsOpen(true);\r\n    console.log(ENDPOINT);\r\n    const sk = socketIOClient(ENDPOINT);\r\n    setSocket(sk);\r\n  };\r\n  const submitHandler = (e) => {\r\n    e.preventDefault();\r\n    if (!messageBody.trim()) {\r\n      alert('Error. Please type message.');\r\n    } else {\r\n      setMessages([...messages, { body: messageBody, name: userInfo.name }]);\r\n      setMessageBody('');\r\n      setTimeout(() => {\r\n        socket.emit('onMessage', {\r\n          body: messageBody,\r\n          name: userInfo.name,\r\n          isAdmin: userInfo.isAdmin,\r\n          _id: userInfo._id,\r\n        });\r\n      }, 1000);\r\n    }\r\n  };\r\n  const closeHandler = () => {\r\n    setIsOpen(false);\r\n  };\r\n  return (\r\n    <div className=\"chatbox\">\r\n      {!isOpen ? (\r\n        <button type=\"button\" onClick={supportHandler}>\r\n          <i className=\"fa fa-support\" />\r\n        </button>\r\n      ) : (\r\n        <div className=\"card card-body\">\r\n          <div className=\"row\">\r\n            <strong>Support </strong>\r\n            <button type=\"button\" onClick={closeHandler}>\r\n              <i className=\"fa fa-close\" />\r\n            </button>\r\n          </div>\r\n          <ul ref={uiMessagesRef}>\r\n            {messages.map((msg, index) => (\r\n              <li key={index}>\r\n                <strong>{`${msg.name}: `}</strong> {msg.body}\r\n              </li>\r\n            ))}\r\n          </ul>\r\n          <div>\r\n            <form onSubmit={submitHandler} className=\"row\">\r\n              <input\r\n                value={messageBody}\r\n                onChange={(e) => setMessageBody(e.target.value)}\r\n                type=\"text\"\r\n                placeholder=\"type message\"\r\n              />\r\n              <button type=\"submit\">Send</button>\r\n            </form>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n","import React from 'react'\r\nimport { useSelector } from 'react-redux';\r\nimport ChatBox from './ChatBox';\r\n\r\nexport default function Footer() {\r\n    const userSignin = useSelector((state) => state.userSignin);\r\n    const { userInfo } = userSignin;\r\n    return (\r\n        <footer className=\"row center\">\r\n            {userInfo && !userInfo.isAdmin && <ChatBox userInfo={userInfo} />}\r\n            <div>All right reserved</div>{' '}\r\n        </footer>\r\n    )\r\n}\r\n","import Axios from 'axios';\r\nimport { USER_DETAILS_FAIL, USER_DETAILS_REQUEST, USER_DETAILS_SUCCESS, USER_REGISTER_FAIL, USER_REGISTER_REQUEST, USER_REGISTER_SUCCESS, USER_SIGNIN_FAIL, USER_SIGNIN_REQUEST, USER_SIGNIN_SUCCESS, USER_SIGNOUT, USER_UPDATE_PROFILE_FAIL, USER_UPDATE_PROFILE_REQUEST, USER_UPDATE_PROFILE_SUCCESS, USER_LIST_REQUEST, USER_LIST_SUCCESS, USER_LIST_FAIL, USER_DELETE_REQUEST, USER_DELETE_SUCCESS, USER_DELETE_FAIL, USER_UPDATE_SUCCESS, USER_UPDATE_FAIL, USER_TOPSELLERS_LIST_REQUEST, USER_TOPSELLERS_LIST_SUCCESS, USER_TOPSELLERS_LIST_FAIL, } from '../constants/userConstants';\r\n\r\nexport const register = (name, email, password) => async (dispatch) => {\r\n  dispatch({ type: USER_REGISTER_REQUEST, payload: { email, password } });\r\n  try {\r\n    const { data } = await Axios.post('/api/users/register', {\r\n      name,\r\n      email,\r\n      password,\r\n    });\r\n    dispatch({ type: USER_REGISTER_SUCCESS, payload: data });\r\n    dispatch({ type: USER_SIGNIN_SUCCESS, payload: data });\r\n    localStorage.setItem('userInfo', JSON.stringify(data));\r\n  } catch (error) {\r\n    dispatch({\r\n      type: USER_REGISTER_FAIL,\r\n      payload:\r\n        error.response && error.response.data.message\r\n          ? error.response.data.message\r\n          : error.message,\r\n    });\r\n  }\r\n};\r\n\r\nexport const signin = (email, password) => async (dispatch) => {\r\n  dispatch({ type: USER_SIGNIN_REQUEST, payload: { email, password } });\r\n  try {\r\n    const { data } = await Axios.post('/api/users/signin', { email, password });\r\n    dispatch({ type: USER_SIGNIN_SUCCESS, payload: data });\r\n    localStorage.setItem('userInfo', JSON.stringify(data));\r\n  } catch (error) {\r\n    dispatch({\r\n      type: USER_SIGNIN_FAIL,\r\n      payload:\r\n        error.response && error.response.data.message\r\n          ? error.response.data.message\r\n          : error.message,\r\n    });\r\n  }\r\n};\r\n\r\nexport const signout = () => (dispatch) => {\r\n  localStorage.removeItem('userInfo');\r\n  localStorage.removeItem('cartItems');\r\n  localStorage.removeItem('shippingAddress');\r\n  dispatch({ type: USER_SIGNOUT });\r\n  document.location.href = '/signin';\r\n};\r\nexport const detailsUser = (userId) => async (dispatch, getState) => {\r\n  dispatch({ type: USER_DETAILS_REQUEST, payload: userId });\r\n  const {\r\n    userSignin: { userInfo },\r\n  } = getState();\r\n  try {\r\n    const { data } = await Axios.get(`/api/users/${userId}`, {\r\n      headers: { Authorization: `Bearer ${userInfo?.token}` },\r\n    });\r\n    dispatch({ type: USER_DETAILS_SUCCESS, payload: data });\r\n  } catch (error) {\r\n    const message =\r\n      error.response && error.response.data.message\r\n        ? error.response.data.message\r\n        : error.message;\r\n    dispatch({ type: USER_DETAILS_FAIL, payload: message });\r\n  }\r\n};\r\nexport const updateUserProfile = (user) => async (dispatch, getState) => {\r\n  dispatch({ type: USER_UPDATE_PROFILE_REQUEST, payload: user });\r\n  const {\r\n    userSignin: { userInfo },\r\n  } = getState();\r\n  try {\r\n    const { data } = await Axios.put(`/api/users/profile`, user, {\r\n      headers: { Authorization: `Bearer ${userInfo.token}` },\r\n    });\r\n    dispatch({ type: USER_UPDATE_PROFILE_SUCCESS, payload: data });\r\n    dispatch({ type: USER_SIGNIN_SUCCESS, payload: data });\r\n    localStorage.setItem('userInfo', JSON.stringify(data));\r\n  } catch (error) {\r\n    const message =\r\n      error.response && error.response.data.message\r\n        ? error.response.data.message\r\n        : error.message;\r\n    dispatch({ type: USER_UPDATE_PROFILE_FAIL, payload: message });\r\n  }\r\n};\r\nexport const updateUser = (user) => async (dispatch, getState) => {\r\n  dispatch({ type: USER_UPDATE_PROFILE_REQUEST, payload: user });\r\n  const {\r\n    userSignin: { userInfo },\r\n  } = getState();\r\n  try {\r\n    const { data } = await Axios.put(`/api/users/${user._id}`, user, {\r\n      headers: { Authorization: `Bearer ${userInfo.token}` },\r\n    });\r\n    dispatch({ type: USER_UPDATE_SUCCESS, payload: data });\r\n  } catch (error) {\r\n    const message =\r\n      error.response && error.response.data.message\r\n        ? error.response.data.message\r\n        : error.message;\r\n    dispatch({ type: USER_UPDATE_FAIL, payload: message });\r\n  }\r\n};\r\nexport const listUsers = () => async (dispatch, getState) => {\r\n  dispatch({ type: USER_LIST_REQUEST });\r\n  try {\r\n    const {\r\n      userSignin: { userInfo },\r\n    } = getState();\r\n    const { data } = await Axios.get('/api/users', {\r\n      headers: {\r\n        Authorization: `Bearer ${userInfo.token}`,\r\n      },\r\n    });\r\n    dispatch({ type: USER_LIST_SUCCESS, payload: data });\r\n  } catch (error) {\r\n    const message =\r\n      error.response && error.response.data.message\r\n        ? error.response.data.message\r\n        : error.message;\r\n    dispatch({ type: USER_LIST_FAIL, payload: message });\r\n  }\r\n};\r\nexport const deleteUser = (userId) => async (dispatch, getState) => {\r\n  dispatch({ type: USER_DELETE_REQUEST, payload: userId });\r\n  const {\r\n    userSignin: { userInfo },\r\n  } = getState();\r\n  try {\r\n    const { data } = await Axios.delete(`/api/users/${userId}`, {\r\n      headers: { Authorization: `Bearer ${userInfo.token}` },\r\n    });\r\n    dispatch({ type: USER_DELETE_SUCCESS, payload: data });\r\n  } catch (error) {\r\n    const message =\r\n      error.response && error.response.data.message\r\n        ? error.response.data.message\r\n        : error.message;\r\n    dispatch({ type: USER_DELETE_FAIL, payload: message });\r\n  }\r\n};\r\nexport const listTopSellers = () => async (dispatch) => {\r\n  dispatch({ type: USER_TOPSELLERS_LIST_REQUEST });\r\n  try {\r\n    const { data } = await Axios.get('/api/users/top-sellers');\r\n    dispatch({ type: USER_TOPSELLERS_LIST_SUCCESS, payload: data });\r\n  } catch (error) {\r\n    const message =\r\n      error.response && error.response.data.message\r\n        ? error.response.data.message\r\n        : error.message;\r\n    dispatch({ type: USER_TOPSELLERS_LIST_FAIL, payload: message });\r\n  }\r\n};","export const USER_REGISTER_REQUEST = 'USER_REGISTER_REQUEST';\r\nexport const USER_REGISTER_SUCCESS = 'USER_REGISTER_SUCCESS';\r\nexport const USER_REGISTER_FAIL = 'USER_REGISTER_FAIL';\r\n\r\nexport const USER_SIGNIN_REQUEST = 'USER_SIGNIN_REQUEST';\r\nexport const USER_SIGNIN_SUCCESS = 'USER_SIGNIN_SUCCESS';\r\nexport const USER_SIGNIN_FAIL = 'USER_SIGNIN_FAIL';\r\n\r\nexport const USER_SIGNOUT = 'USER_SIGNOUT';\r\n\r\nexport const USER_DETAILS_REQUEST = 'USER_DETAILS_REQUEST';\r\nexport const USER_DETAILS_SUCCESS = 'USER_DETAILS_SUCCESS';\r\nexport const USER_DETAILS_FAIL = 'USER_DETAILS_FAIL';\r\nexport const USER_DETAILS_RESET = 'USER_DETAILS_RESET';\r\n\r\nexport const USER_LIST_REQUEST = 'USER_LIST_REQUEST';\r\nexport const USER_LIST_SUCCESS = 'USER_LIST_SUCCESS';\r\nexport const USER_LIST_FAIL = 'USER_LIST_FAIL';\r\n\r\nexport const USER_TOPSELLERS_LIST_REQUEST = 'USER_TOPSELLERS_LIST_REQUEST';\r\nexport const USER_TOPSELLERS_LIST_SUCCESS = 'USER_TOPSELLERS_LIST_SUCCESS';\r\nexport const USER_TOPSELLERS_LIST_FAIL = 'USER_TOPSELLERS_LIST_FAIL';\r\n\r\nexport const USER_UPDATE_PROFILE_REQUEST = 'USER_UPDATE_PROFILE_REQUEST';\r\nexport const USER_UPDATE_PROFILE_SUCCESS = 'USER_UPDATE_PROFILE_SUCCESS';\r\nexport const USER_UPDATE_PROFILE_FAIL = 'USER_UPDATE_PROFILE_FAIL';\r\nexport const USER_UPDATE_PROFILE_RESET = 'USER_UPDATE_PROFILE_RESET';\r\n\r\nexport const USER_UPDATE_REQUEST = 'USER_UPDATE_REQUEST';\r\nexport const USER_UPDATE_SUCCESS = 'USER_UPDATE_SUCCESS';\r\nexport const USER_UPDATE_FAIL = 'USER_UPDATE_FAIL';\r\nexport const USER_UPDATE_RESET = 'USER_UPDATE_RESET';\r\n\r\nexport const USER_DELETE_REQUEST = 'USER_DELETE_REQUEST';\r\nexport const USER_DELETE_SUCCESS = 'USER_DELETE_SUCCESS';\r\nexport const USER_DELETE_FAIL = 'USER_DELETE_FAIL';\r\nexport const USER_DELETE_RESET = 'USER_DELETE_RESET';\r\n\r\nexport const USER_ADDRESS_MAP_CONFIRM = 'USER_ADDRESS_MAP_CONFIRM';\r\n","import React, { useState } from 'react';\r\n\r\nexport default function SearchBox(props) {\r\n  const [name, setName] = useState('');\r\n  const submitHandler = (e) => {\r\n    e.preventDefault();\r\n    props.history.push(`/search/name/${name}`);\r\n  };\r\n  return (\r\n    <form className=\"search\" onSubmit={submitHandler}>\r\n      <div className=\"row\">\r\n        <input\r\n          placeholder=\"Search your product\"\r\n          type=\"text\"\r\n          name=\"q\"\r\n          id=\"q\"\r\n          onChange={(e) => setName(e.target.value)}\r\n        />\r\n        <button className=\"primary\" type=\"submit\">\r\n          <i className=\"fa fa-search\"></i>\r\n        </button>\r\n      </div>\r\n    </form>\r\n  );\r\n}\r\n","import React from 'react';\r\n\r\nexport default function LoadingBox() {\r\n  return (\r\n    <svg className=\"spinner\" width=\"20px\" height=\"20px\" viewBox=\"0 0 66 66\" xmlns=\"http://www.w3.org/2000/svg\">\r\n      <circle className=\"path\" fill=\"none\" strokeWidth=\"6\" strokeLinecap=\"round\" cx=\"33\" cy=\"33\" r=\"30\"></circle>\r\n    </svg>\r\n  );\r\n}\r\n","import React from 'react';\r\n\r\nexport default function MessageBox(props) {\r\n  return (\r\n    <div className={`alert alert-${props.variant || 'info'}`}>\r\n      {props.children}\r\n    </div>\r\n  );\r\n}\r\n","import React from 'react'\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { Link, Route } from 'react-router-dom'\r\nimport { signout } from '../actions/userActions';\r\nimport SearchBox from './SearchBox'\r\nimport LoadingBox from \"./LoadingBox\";\r\nimport MessageBox from \"./MessageBox\";\r\nexport default function Header(props) {\r\n\r\n    const cart = useSelector((state) => state.cart);\r\n    const { cartItems } = cart;\r\n    const userSignin = useSelector((state) => state.userSignin);\r\n    const { userInfo } = userSignin;\r\n    const dispatch = useDispatch();\r\n    const signoutHandler = () => { dispatch(signout()); };\r\n\r\n    const productCategoryList = useSelector((state) => state.productCategoryList);\r\n    const { loading: loadingCategories, error: errorCategories, categories, } = productCategoryList;\r\n\r\n\r\n    return (\r\n        <>\r\n            <header className=\"row\">\r\n                <div>\r\n                    <button type=\"button\" className=\"open-sidebar\" onClick={() => props.setSidebarIsOpen(true)}>\r\n                        <i className=\"fa fa-bars\"></i>\r\n                    </button>\r\n                    <Link className=\"brand\" to=\"/\">amazona</Link>\r\n                </div>\r\n                <div>\r\n                    <Route render={({ history }) => (<SearchBox history={history}></SearchBox>)} />\r\n                </div>\r\n                <div>\r\n                    <Link to=\"/cart\">\r\n                        Cart {cartItems.length > 0 && (<span className=\"badge\">{cartItems.length}</span>)}\r\n                    </Link>\r\n                    {userInfo ? (\r\n                        <div className=\"dropdown\">\r\n                            <Link to=\"#\">\r\n                                {userInfo.name} <i className=\"fa fa-caret-down\"></i>{' '}\r\n                            </Link>\r\n                            <ul className=\"dropdown-content\">\r\n                                <li>\r\n                                    <Link to=\"/profile\">User Profile</Link>\r\n                                </li>\r\n                                <li>\r\n                                    <Link to=\"/orderhistory\">Order History</Link>\r\n                                </li>\r\n                                <li>\r\n                                    <Link to=\"#signout\" onClick={signoutHandler}>Sign Out</Link>\r\n                                </li>\r\n                            </ul>\r\n                        </div>\r\n                    ) : (\r\n                        <Link to=\"/signin\">Sign In</Link>\r\n                    )}\r\n                    {userInfo && userInfo.isSeller && (\r\n                        <div className=\"dropdown\">\r\n                            <Link to=\"#admin\">\r\n                                Seller <i className=\"fa fa-caret-down\"></i>\r\n                            </Link>\r\n                            <ul className=\"dropdown-content\">\r\n                                <li>\r\n                                    <Link to=\"/productlist/seller\">Products</Link>\r\n                                </li>\r\n                                <li>\r\n                                    <Link to=\"/orderlist/seller\">Orders</Link>\r\n                                </li>\r\n                            </ul>\r\n                        </div>\r\n                    )}\r\n                    {userInfo && userInfo.isAdmin && (\r\n                        <div className=\"dropdown\">\r\n                            <Link to=\"#admin\">\r\n                                Admin <i className=\"fa fa-caret-down\"></i>\r\n                            </Link>\r\n                            <ul className=\"dropdown-content\">\r\n                                <li>\r\n                                    <Link to=\"/dashboard\">Dashboard</Link>\r\n                                </li>\r\n                                <li>\r\n                                    <Link to=\"/productlist\">Products</Link>\r\n                                </li>\r\n                                <li>\r\n                                    <Link to=\"/orderlist\">Orders</Link>\r\n                                </li>\r\n                                <li>\r\n                                    <Link to=\"/userlist\">Users</Link>\r\n                                </li>\r\n                                <li>\r\n                                    <Link to=\"/support\">Support</Link>\r\n                                </li>\r\n                            </ul>\r\n                        </div>\r\n                    )}\r\n                </div>\r\n            </header>\r\n            <aside className={props.sidebarIsOpen ? 'open' : ''}>\r\n                <ul className=\"categories\">\r\n                    <li>\r\n                        <strong>Categories</strong>\r\n                        <button\r\n                            onClick={() => props.setSidebarIsOpen(false)}\r\n                            className=\"close-sidebar\"\r\n                            type=\"button\"\r\n                        >\r\n                            <i className=\"fa fa-close\"></i>\r\n                        </button>\r\n                    </li>\r\n                    {loadingCategories ? (\r\n                        <LoadingBox />\r\n                    ) : errorCategories ? (\r\n                        <MessageBox variant=\"danger\">{errorCategories}</MessageBox>\r\n                    ) : (\r\n                        categories.map((c) => (\r\n                            <li key={c}>\r\n                                <Link\r\n                                    to={`/search/category/${c}`}\r\n                                    onClick={() => props.setSidebarIsOpen(false)}\r\n                                >\r\n                                    {c}\r\n                                </Link>\r\n                            </li>\r\n                        ))\r\n                    )}\r\n                </ul>\r\n            </aside>\r\n        </>\r\n    )\r\n}\r\n","import React from 'react';\r\n\r\nexport default function Rating(props) {\r\n  const { rating, numReviews, caption } = props;\r\n  return (\r\n    <div className=\"rating\">\r\n      <span>\r\n        <i\r\n          className={\r\n            rating >= 1\r\n              ? 'fa fa-star'\r\n              : rating >= 0.5\r\n              ? 'fa fa-star-half-o'\r\n              : 'fa fa-star-o'\r\n          }\r\n        ></i>\r\n      </span>\r\n      <span>\r\n        <i\r\n          className={\r\n            rating >= 2\r\n              ? 'fa fa-star'\r\n              : rating >= 1.5\r\n              ? 'fa fa-star-half-o'\r\n              : 'fa fa-star-o'\r\n          }\r\n        ></i>\r\n      </span>\r\n      <span>\r\n        <i\r\n          className={\r\n            rating >= 3\r\n              ? 'fa fa-star'\r\n              : rating >= 2.5\r\n              ? 'fa fa-star-half-o'\r\n              : 'fa fa-star-o'\r\n          }\r\n        ></i>\r\n      </span>\r\n      <span>\r\n        <i\r\n          className={\r\n            rating >= 4\r\n              ? 'fa fa-star'\r\n              : rating >= 3.5\r\n              ? 'fa fa-star-half-o'\r\n              : 'fa fa-star-o'\r\n          }\r\n        ></i>\r\n      </span>\r\n      <span>\r\n        <i\r\n          className={\r\n            rating >= 5\r\n              ? 'fa fa-star'\r\n              : rating >= 4.5\r\n              ? 'fa fa-star-half-o'\r\n              : 'fa fa-star-o'\r\n          }\r\n        ></i>\r\n      </span>\r\n      {caption ? (\r\n        <span>{caption}</span>\r\n      ) : (\r\n        <span>{numReviews + ' reviews'}</span>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport Rating from './Rating';\r\n\r\nexport default function Product(props) {\r\n  const {\r\n    product\r\n  } = props;\r\n  return (\r\n    <div key={product._id} className=\"card\">\r\n      <Link to={`/product/${product._id}`}>\r\n        <img className=\"medium\" src={product.image} alt={product.name} />\r\n      </Link>\r\n      <div className=\"card-body\">\r\n        <Link to={`/product/${product._id}`}>\r\n          <h2>{product.name}</h2>\r\n        </Link>\r\n        <Rating\r\n          rating={product.rating}\r\n          numReviews={product.numReviews}\r\n        ></Rating>\r\n        <div className=\"row\">\r\n          <div className=\"price\">${product.price}</div>\r\n          <div>\r\n            <Link to={`/seller/${product.seller._id}`}>\r\n              {product.seller.name}\r\n            </Link>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}","import Axios from 'axios';\r\nimport { PRODUCT_CREATE_FAIL, PRODUCT_CREATE_REQUEST, PRODUCT_CREATE_SUCCESS, PRODUCT_DETAILS_FAIL, PRODUCT_DETAILS_REQUEST, PRODUCT_DETAILS_SUCCESS, PRODUCT_LIST_FAIL, PRODUCT_LIST_REQUEST, PRODUCT_LIST_SUCCESS, PRODUCT_UPDATE_REQUEST, PRODUCT_UPDATE_SUCCESS, PRODUCT_UPDATE_FAIL, PRODUCT_DELETE_REQUEST, PRODUCT_DELETE_FAIL, PRODUCT_DELETE_SUCCESS, PRODUCT_CATEGORY_LIST_SUCCESS, PRODUCT_CATEGORY_LIST_REQUEST, PRODUCT_CATEGORY_LIST_FAIL, PRODUCT_REVIEW_CREATE_REQUEST, PRODUCT_REVIEW_CREATE_SUCCESS, PRODUCT_REVIEW_CREATE_FAIL, } from '../constants/productConstants';\r\nexport const listProducts = ({\r\n  pageNumber = '',\r\n  seller = '',\r\n  name = '',\r\n  category = '',\r\n  order = '',\r\n  min = 0,\r\n  max = 0,\r\n  rating = 0,\r\n}) => async (dispatch) => {\r\n\r\n  dispatch({ type: PRODUCT_LIST_REQUEST });\r\n  try {\r\n    const { data } = await Axios.get(`/api/products?pageNumber=${pageNumber}&seller=${seller}&name=${name}&category=${category}&min=${min}&max=${max}&rating=${rating}&order=${order}`);\r\n    dispatch({ type: PRODUCT_LIST_SUCCESS, payload: data });\r\n  } catch (error) {\r\n    dispatch({ type: PRODUCT_LIST_FAIL, payload: error.message });\r\n  }\r\n};\r\n\r\nexport const listProductCategories = () => async (dispatch) => {\r\n  dispatch({ type: PRODUCT_CATEGORY_LIST_REQUEST, });\r\n  try {\r\n    const { data } = await Axios.get(`/api/products/categories`);\r\n    dispatch({ type: PRODUCT_CATEGORY_LIST_SUCCESS, payload: data });\r\n  } catch (error) {\r\n    dispatch({ type: PRODUCT_CATEGORY_LIST_FAIL, payload: error.message });\r\n  }\r\n};\r\n\r\nexport const detailsProduct = (productId) => async (dispatch) => {\r\n  dispatch({ type: PRODUCT_DETAILS_REQUEST, payload: productId });\r\n  try {\r\n    const { data } = await Axios.get(`/api/products/${productId}`);\r\n    dispatch({ type: PRODUCT_DETAILS_SUCCESS, payload: data });\r\n  } catch (error) {\r\n    dispatch({\r\n      type: PRODUCT_DETAILS_FAIL,\r\n      payload:\r\n        error.response && error.response.data.message\r\n          ? error.response.data.message\r\n          : error.message,\r\n    });\r\n  }\r\n};\r\nexport const createProduct = () => async (dispatch, getState) => {\r\n  dispatch({ type: PRODUCT_CREATE_REQUEST });\r\n  const {\r\n    userSignin: { userInfo },\r\n  } = getState();\r\n  try {\r\n    const { data } = await Axios.post(\r\n      '/api/products',\r\n      {},\r\n      {\r\n        headers: { Authorization: `Bearer ${userInfo.token}` },\r\n      }\r\n    );\r\n    dispatch({ type: PRODUCT_CREATE_SUCCESS, payload: data.product, });\r\n  } catch (error) {\r\n    const message =\r\n      error.response && error.response.data.message\r\n        ? error.response.data.message\r\n        : error.message;\r\n    dispatch({ type: PRODUCT_CREATE_FAIL, payload: message });\r\n  }\r\n};\r\nexport const updateProduct = (product) => async (dispatch, getState) => {\r\n  dispatch({ type: PRODUCT_UPDATE_REQUEST, payload: product });\r\n  const {\r\n    userSignin: { userInfo },\r\n  } = getState();\r\n  try {\r\n    const { data } = await Axios.put(`/api/products/${product._id}`, product, {\r\n      headers: { Authorization: `Bearer ${userInfo.token}` },\r\n    });\r\n    dispatch({ type: PRODUCT_UPDATE_SUCCESS, payload: data });\r\n  } catch (error) {\r\n    const message =\r\n      error.response && error.response.data.message\r\n        ? error.response.data.message\r\n        : error.message;\r\n    dispatch({ type: PRODUCT_UPDATE_FAIL, error: message });\r\n  }\r\n};\r\nexport const deleteProduct = (productId) => async (dispatch, getState) => {\r\n  dispatch({ type: PRODUCT_DELETE_REQUEST, payload: productId });\r\n  const { userSignin: { userInfo }, } = getState();\r\n  try {\r\n    Axios.delete(`/api/products/${productId}`, {\r\n      headers: { Authorization: `Bearer ${userInfo.token}` },\r\n    });\r\n    dispatch({ type: PRODUCT_DELETE_SUCCESS });\r\n  } catch (error) {\r\n    const message =\r\n      error.response && error.response.data.message\r\n        ? error.response.data.message\r\n        : error.message;\r\n    dispatch({ type: PRODUCT_DELETE_FAIL, payload: message });\r\n  }\r\n};\r\nexport const createReview = (productId, review) => async (\r\n  dispatch,\r\n  getState\r\n) => {\r\n  dispatch({ type: PRODUCT_REVIEW_CREATE_REQUEST });\r\n  const { userSignin: { userInfo }, } = getState();\r\n  try {\r\n    const { data } = await Axios.post(`/api/products/${productId}/reviews`, review, { headers: { Authorization: `Bearer ${userInfo.token}` }, });\r\n    dispatch({\r\n      type: PRODUCT_REVIEW_CREATE_SUCCESS,\r\n      payload: data.review,\r\n    });\r\n  } catch (error) {\r\n    const message = error.response && error.response.data.message ? error.response.data.message : error.message;\r\n    dispatch({ type: PRODUCT_REVIEW_CREATE_FAIL, payload: message });\r\n  }\r\n};\r\n","import React, { useEffect } from 'react';\r\nimport 'react-responsive-carousel/lib/styles/carousel.min.css';\r\nimport Product from '../components/Product';\r\nimport LoadingBox from '../components/LoadingBox';\r\nimport MessageBox from '../components/MessageBox';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { listProducts } from '../actions/productActions';\r\n\r\nexport default function HomeScreen() {\r\n  const dispatch = useDispatch();\r\n  const productList = useSelector((state) => state.productList);\r\n  const { loading, error, products } = productList;\r\n\r\n  useEffect(() => {\r\n    dispatch(listProducts({}));\r\n  }, [dispatch]);\r\n  return (\r\n    <div>\r\n      <h2>Featured Products</h2>\r\n      {loading ? (\r\n        <LoadingBox />\r\n      ) : error ? (\r\n        <MessageBox variant=\"danger\">{error}</MessageBox>\r\n      ) : (\r\n        <>\r\n          {products.length === 0 && <MessageBox>No Product Found</MessageBox>}\r\n          <div className=\"row center\">\r\n            {products.map((product) => (\r\n              <Product key={product._id} product={product}></Product>\r\n            ))}\r\n          </div>\r\n        </>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n","export const CART_ADD_ITEM_FAIL = 'CART_ADD_ITEM_FAIL';\r\nexport const CART_ADD_ITEM = 'CART_ADD_ITEM';\r\nexport const CART_REMOVE_ITEM = 'CART_REMOVE_ITEM';\r\nexport const CART_SAVE_SHIPPING_ADDRESS = 'CART_SAVE_SHIPPING_ADDRESS';\r\nexport const CART_SAVE_PAYMENT_METHOD = 'CART_SAVE_PAYMENT_METHOD';\r\nexport const CART_EMPTY = 'CART_EMPTY';\r\n","import Axios from 'axios';\r\nimport { CART_EMPTY } from '../constants/cartConstants';\r\nimport {\r\n  ORDER_CREATE_FAIL,\r\n  ORDER_CREATE_REQUEST,\r\n  ORDER_CREATE_SUCCESS,\r\n  ORDER_DETAILS_FAIL,\r\n  ORDER_DETAILS_REQUEST,\r\n  ORDER_DETAILS_SUCCESS,\r\n  ORDER_PAY_REQUEST,\r\n  ORDER_PAY_FAIL,\r\n  ORDER_PAY_SUCCESS,\r\n  ORDER_MINE_LIST_REQUEST,\r\n  ORDER_MINE_LIST_FAIL,\r\n  ORDER_MINE_LIST_SUCCESS,\r\n  ORDER_LIST_REQUEST,\r\n  ORDER_LIST_SUCCESS,\r\n  ORDER_LIST_FAIL,\r\n  ORDER_DELETE_REQUEST,\r\n  ORDER_DELETE_SUCCESS,\r\n  ORDER_DELETE_FAIL,\r\n  ORDER_DELIVER_REQUEST,\r\n  ORDER_DELIVER_SUCCESS,\r\n  ORDER_DELIVER_FAIL,\r\n  ORDER_SUMMARY_REQUEST,\r\n  ORDER_SUMMARY_SUCCESS,\r\n} from '../constants/orderConstants';\r\n\r\nexport const createOrder = (order) => async (dispatch, getState) => {\r\n  dispatch({ type: ORDER_CREATE_REQUEST, payload: order });\r\n  try {\r\n    const {\r\n      userSignin: { userInfo },\r\n    } = getState();\r\n    const { data } = await Axios.post('/api/orders', order, {\r\n      headers: {\r\n        Authorization: `Bearer ${userInfo.token}`,\r\n      },\r\n    });\r\n    dispatch({ type: ORDER_CREATE_SUCCESS, payload: data.order });\r\n    dispatch({ type: CART_EMPTY });\r\n    localStorage.removeItem('cartItems');\r\n  } catch (error) {\r\n    dispatch({\r\n      type: ORDER_CREATE_FAIL,\r\n      payload:\r\n        error.response && error.response.data.message\r\n          ? error.response.data.message\r\n          : error.message,\r\n    });\r\n  }\r\n};\r\n\r\nexport const detailsOrder = (orderId) => async (dispatch, getState) => {\r\n  dispatch({ type: ORDER_DETAILS_REQUEST, payload: orderId });\r\n  const {\r\n    userSignin: { userInfo },\r\n  } = getState();\r\n  try {\r\n    const { data } = await Axios.get(`/api/orders/${orderId}`, {\r\n      headers: { Authorization: `Bearer ${userInfo.token}` },\r\n    });\r\n    dispatch({ type: ORDER_DETAILS_SUCCESS, payload: data });\r\n  } catch (error) {\r\n    const message =\r\n      error.response && error.response.data.message\r\n        ? error.response.data.message\r\n        : error.message;\r\n    dispatch({ type: ORDER_DETAILS_FAIL, payload: message });\r\n  }\r\n};\r\n\r\nexport const payOrder = (order, paymentResult) => async (dispatch, getState) => {\r\n  dispatch({ type: ORDER_PAY_REQUEST, payload: { order, paymentResult } });\r\n  const { userSignin: { userInfo }, } = getState();\r\n  try {\r\n    const { data } = Axios.put(`/api/orders/${order._id}/pay`, paymentResult, {\r\n      headers: { Authorization: `Bearer ${userInfo.token}` },\r\n    });\r\n    dispatch({ type: ORDER_PAY_SUCCESS, payload: data });\r\n  } catch (error) {\r\n    const message =\r\n      error.response && error.response.data.message\r\n        ? error.response.data.message\r\n        : error.message;\r\n    dispatch({ type: ORDER_PAY_FAIL, payload: message });\r\n  }\r\n};\r\nexport const listOrderMine = () => async (dispatch, getState) => {\r\n  dispatch({ type: ORDER_MINE_LIST_REQUEST });\r\n  const {\r\n    userSignin: { userInfo },\r\n  } = getState();\r\n  try {\r\n    const { data } = await Axios.get('/api/orders/mine', {\r\n      headers: {\r\n        Authorization: `Bearer ${userInfo.token}`,\r\n      },\r\n    });\r\n    dispatch({ type: ORDER_MINE_LIST_SUCCESS, payload: data });\r\n  } catch (error) {\r\n    const message =\r\n      error.response && error.response.data.message\r\n        ? error.response.data.message\r\n        : error.message;\r\n    dispatch({ type: ORDER_MINE_LIST_FAIL, payload: message });\r\n  }\r\n};\r\nexport const listOrders = ({ seller = '' }) => async (dispatch, getState) => {\r\n  dispatch({ type: ORDER_LIST_REQUEST });\r\n  const {\r\n    userSignin: { userInfo },\r\n  } = getState();\r\n  try {\r\n    const { data } = await Axios.get(`/api/orders?seller=${seller}`, {\r\n      headers: { Authorization: `Bearer ${userInfo.token}` },\r\n    });\r\n    console.log(data);\r\n    dispatch({ type: ORDER_LIST_SUCCESS, payload: data });\r\n  } catch (error) {\r\n    const message =\r\n      error.response && error.response.data.message\r\n        ? error.response.data.message\r\n        : error.message;\r\n    dispatch({ type: ORDER_LIST_FAIL, payload: message });\r\n  }\r\n};\r\nexport const deleteOrder = (orderId) => async (dispatch, getState) => {\r\n  dispatch({ type: ORDER_DELETE_REQUEST, payload: orderId });\r\n  const {\r\n    userSignin: { userInfo },\r\n  } = getState();\r\n  try {\r\n    const { data } = Axios.delete(`/api/orders/${orderId}`, {\r\n      headers: { Authorization: `Bearer ${userInfo.token}` },\r\n    });\r\n    dispatch({ type: ORDER_DELETE_SUCCESS, payload: data });\r\n  } catch (error) {\r\n    const message =\r\n      error.response && error.response.data.message\r\n        ? error.response.data.message\r\n        : error.message;\r\n    dispatch({ type: ORDER_DELETE_FAIL, payload: message });\r\n  }\r\n};\r\n\r\nexport const deliverOrder = (orderId) => async (dispatch, getState) => {\r\n  dispatch({ type: ORDER_DELIVER_REQUEST, payload: orderId });\r\n  const {\r\n    userSignin: { userInfo },\r\n  } = getState();\r\n  try {\r\n    const { data } = Axios.put(\r\n      `/api/orders/${orderId}/deliver`,\r\n      {},\r\n      {\r\n        headers: { Authorization: `Bearer ${userInfo.token}` },\r\n      }\r\n    );\r\n    dispatch({ type: ORDER_DELIVER_SUCCESS, payload: data });\r\n  } catch (error) {\r\n    const message =\r\n      error.response && error.response.data.message\r\n        ? error.response.data.message\r\n        : error.message;\r\n    dispatch({ type: ORDER_DELIVER_FAIL, payload: message });\r\n  }\r\n};\r\n\r\nexport const summaryOrder = () => async (dispatch, getState) => {\r\n  dispatch({ type: ORDER_SUMMARY_REQUEST });\r\n  const {\r\n    userSignin: { userInfo },\r\n  } = getState();\r\n  try {\r\n    const { data } = await Axios.get('/api/orders/summary', {\r\n      headers: { Authorization: `Bearer ${userInfo.token}` },\r\n    });\r\n    dispatch({ type: ORDER_SUMMARY_SUCCESS, payload: data });\r\n  } catch (error) {\r\n    dispatch({\r\n      type: ORDER_CREATE_FAIL,\r\n      payload:\r\n        error.response && error.response.data.message\r\n          ? error.response.data.message\r\n          : error.message,\r\n    });\r\n  }\r\n};\r\n","export const ORDER_CREATE_REQUEST = 'ORDER_CREATE_REQUEST';\r\nexport const ORDER_CREATE_SUCCESS = 'ORDER_CREATE_SUCCESS';\r\nexport const ORDER_CREATE_FAIL = 'ORDER_CREATE_FAIL';\r\nexport const ORDER_CREATE_RESET = 'ORDER_CREATE_RESET';\r\n\r\nexport const ORDER_PAY_REQUEST = 'ORDER_PAY_REQUEST';\r\nexport const ORDER_PAY_SUCCESS = 'ORDER_PAY_SUCCESS';\r\nexport const ORDER_PAY_FAIL = 'ORDER_PAY_FAIL';\r\nexport const ORDER_PAY_RESET = 'ORDER_PAY_RESET';\r\n\r\nexport const ORDER_DELIVER_REQUEST = 'ORDER_DELIVER_REQUEST';\r\nexport const ORDER_DELIVER_SUCCESS = 'ORDER_DELIVER_SUCCESS';\r\nexport const ORDER_DELIVER_FAIL = 'ORDER_DELIVER_FAIL';\r\nexport const ORDER_DELIVER_RESET = 'ORDER_DELIVER_RESET';\r\n\r\nexport const ORDER_DETAILS_REQUEST = 'ORDER_DETAILS_REQUEST';\r\nexport const ORDER_DETAILS_SUCCESS = 'ORDER_DETAILS_SUCCESS';\r\nexport const ORDER_DETAILS_FAIL = 'ORDER_DETAILS_FAIL';\r\n\r\nexport const ORDER_MINE_LIST_REQUEST = 'ORDER_MINE_LIST_REQUEST';\r\nexport const ORDER_MINE_LIST_SUCCESS = 'ORDER_MINE_LIST_SUCCESS';\r\nexport const ORDER_MINE_LIST_FAIL = 'ORDER_MINE_LIST_FAIL';\r\n\r\nexport const ORDER_LIST_REQUEST = 'ORDER_LIST_REQUEST';\r\nexport const ORDER_LIST_SUCCESS = 'ORDER_LIST_SUCCESS';\r\nexport const ORDER_LIST_FAIL = 'ORDER_LIST_FAIL';\r\n\r\nexport const ORDER_DELETE_REQUEST = 'ORDER_DELETE_REQUEST';\r\nexport const ORDER_DELETE_SUCCESS = 'ORDER_DELETE_SUCCESS';\r\nexport const ORDER_DELETE_FAIL = 'ORDER_DELETE_FAIL';\r\nexport const ORDER_DELETE_RESET = 'ORDER_DELETE_RESET';\r\n\r\nexport const ORDER_SUMMARY_REQUEST = 'ORDER_SUMMARY_REQUEST';\r\nexport const ORDER_SUMMARY_SUCCESS = 'ORDER_SUMMARY_SUCCESS';\r\nexport const ORDER_SUMMARY_FAIL = 'ORDER_SUMMARY_FAIL';\r\n","import React, { useEffect } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { listOrderMine } from '../actions/orderActions';\r\nimport LoadingBox from '../components/LoadingBox';\r\nimport MessageBox from '../components/MessageBox';\r\n\r\nexport default function OrderHistoryScreen(props) {\r\n  const orderMineList = useSelector((state) => state.orderMineList);\r\n  const { loading, error, orders } = orderMineList;\r\n  const dispatch = useDispatch();\r\n  useEffect(() => {\r\n    dispatch(listOrderMine());\r\n  }, [dispatch]);\r\n  return (\r\n    <div>\r\n      <h1>Order History</h1>\r\n      {loading ? (\r\n        <LoadingBox />\r\n      ) : error ? (\r\n        <MessageBox variant=\"danger\">{error}</MessageBox>\r\n      ) : (\r\n        <table className=\"table\">\r\n          <thead>\r\n            <tr>\r\n              <th>ID</th>\r\n              <th>DATE</th>\r\n              <th>TOTAL</th>\r\n              <th>PAID</th>\r\n              <th>DELIVERED</th>\r\n              <th>ACTIONS</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            {orders.map((order) => (\r\n              <tr key={order._id}>\r\n                <td>{order._id}</td>\r\n                <td>{order.createdAt.substring(0, 10)}</td>\r\n                <td>{order.totalPrice.toFixed(2)}</td>\r\n                <td>{order.isPaid ? order.paidAt.substring(0, 10) : 'No'}</td>\r\n                <td>\r\n                  {order.isDelivered\r\n                    ? order.deliveredAt.substring(0, 10)\r\n                    : 'No'}\r\n                </td>\r\n                <td>\r\n                  <button\r\n                    type=\"button\"\r\n                    className=\"small\"\r\n                    onClick={() => {\r\n                      props.history.push(`/order/${order._id}`);\r\n                    }}\r\n                  >\r\n                    Details\r\n                  </button>\r\n                </td>\r\n              </tr>\r\n            ))}\r\n          </tbody>\r\n        </table>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n","import Axios from 'axios';\r\nimport React, { useEffect, useState } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { Link } from 'react-router-dom';\r\nimport { deliverOrder, detailsOrder, payOrder } from '../actions/orderActions';\r\nimport LoadingBox from '../components/LoadingBox';\r\nimport MessageBox from '../components/MessageBox';\r\nimport {\r\n  ORDER_DELIVER_RESET,\r\n  ORDER_PAY_RESET,\r\n} from '../constants/orderConstants';\r\n\r\nexport default function OrderScreen(props) {\r\n  const orderId = props.match.params.id;\r\n  const [sdkReady, setSdkReady] = useState(false);\r\n  const orderDetails = useSelector((state) => state.orderDetails);\r\n  const { order, loading, error } = orderDetails;\r\n  const userSignin = useSelector((state) => state.userSignin);\r\n\r\n  const { userInfo } = userSignin;\r\n\r\n  const orderPay = useSelector((state) => state.orderPay);\r\n\r\n  const { loading: loadingPay, error: errorPay, success: successPay, } = orderPay;\r\n\r\n  const orderDeliver = useSelector((state) => state.orderDeliver);\r\n\r\n  const { loading: loadingDeliver, error: errorDeliver, success: successDeliver, } = orderDeliver;\r\n\r\n  const dispatch = useDispatch();\r\n\r\n\r\n  function isDate(val) {\r\n    // Cross realm comptatible\r\n    return Object.prototype.toString.call(val) === '[object Date]'\r\n  }\r\n\r\n  function isObj(val) {\r\n    return typeof val === 'object'\r\n  }\r\n\r\n  function stringifyValue(val) {\r\n    if (isObj(val) && !isDate(val)) {\r\n      return JSON.stringify(val)\r\n    } else {\r\n      return val\r\n    }\r\n  }\r\n\r\n  function buildForm({ action, params }) {\r\n    const form = document.createElement('form')\r\n    form.setAttribute('method', 'post')\r\n    form.setAttribute('action', action)\r\n\r\n    Object.keys(params).forEach(key => {\r\n      const input = document.createElement('input')\r\n      input.setAttribute('type', 'hidden')\r\n      input.setAttribute('name', key)\r\n      input.setAttribute('value', stringifyValue(params[key]))\r\n      form.appendChild(input)\r\n    })\r\n\r\n    return form\r\n  }\r\n\r\n  function post(details) {\r\n    const form = buildForm(details)\r\n    document.body.appendChild(form)\r\n    form.submit()\r\n    form.remove()\r\n  }\r\n\r\n\r\n  async function paymentHandeler() {\r\n    // let { data } = await Axios.get(\"/api/config/paytm\", {\r\n    //   amount: order.totalPrice.toFixed(2),\r\n    //   orderid: orderId,\r\n    //   email: userInfo.email\r\n    // })\r\n    // console.log(data);\r\n\r\n\r\n    try {\r\n      let { data } = await Axios.post(`/api/config/paytm`, { amount: order.totalPrice.toFixed(2), email: userInfo.email, orderid: orderId, })\r\n\r\n      var information = {\r\n        action: \"https://securegw-stage.paytm.in/order/process\",\r\n        params: data\r\n      }\r\n      console.log(information);\r\n      post(information)\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  }\r\n\r\n\r\n  useEffect(() => {\r\n    if (!order || successPay || successDeliver || (order?._id !== orderId)) {\r\n      dispatch({ type: ORDER_PAY_RESET });\r\n      dispatch({ type: ORDER_DELIVER_RESET });\r\n      dispatch(detailsOrder(orderId));\r\n    }\r\n  }, [dispatch, orderId, successPay, successDeliver, order]);\r\n\r\n  const successPaymentHandler = (paymentResult) => {\r\n    dispatch(payOrder(order, paymentResult));\r\n  };\r\n  const deliverHandler = () => {\r\n    dispatch(deliverOrder(order._id));\r\n  };\r\n\r\n  return loading ? (\r\n    <LoadingBox></LoadingBox>\r\n  ) : error ? (\r\n    <MessageBox variant=\"danger\">{error}</MessageBox>\r\n  ) : (\r\n    <div>\r\n      <h1>Order {order._id}</h1>\r\n      <div className=\"row top\">\r\n        <div className=\"col-2\">\r\n          <ul>\r\n            <li>\r\n              <div className=\"card card-body\">\r\n                <h2>Shippring</h2>\r\n                <p>\r\n                  <strong>Name:</strong> {order.shippingAddress.fullName} <br />\r\n                  <strong>Address: </strong> {order.shippingAddress.address},\r\n                  {order.shippingAddress.city},{' '}\r\n                  {order.shippingAddress.postalCode},\r\n                  {order.shippingAddress.country}\r\n                </p>\r\n                {order.isDelivered ? (\r\n                  <MessageBox variant=\"success\">\r\n                    Delivered at {order.deliveredAt}\r\n                  </MessageBox>\r\n                ) : (\r\n                  <MessageBox variant=\"danger\">Not Delivered</MessageBox>\r\n                )}\r\n              </div>\r\n            </li>\r\n            <li>\r\n              <div className=\"card card-body\">\r\n                <h2>Payment</h2>\r\n                <p>\r\n                  <strong>Method:</strong> {order.paymentMethod}\r\n                </p>\r\n                {order.isPaid ? (\r\n                  <MessageBox variant=\"success\">\r\n                    Paid at {order.paidAt}\r\n                  </MessageBox>\r\n                ) : (\r\n                  <MessageBox variant=\"danger\">Not Paid</MessageBox>\r\n                )}\r\n              </div>\r\n            </li>\r\n            <li>\r\n              <div className=\"card card-body\">\r\n                <h2>Order Items</h2>\r\n                <ul>\r\n                  {order.orderItems.map((item) => (\r\n                    <li key={item.product}>\r\n                      <div className=\"row\">\r\n                        <div>\r\n                          <img\r\n                            src={item.image}\r\n                            alt={item.name}\r\n                            className=\"small\" />\r\n                        </div>\r\n                        <div className=\"min-30\">\r\n                          <Link to={`/product/${item.product}`}>\r\n                            {item.name}\r\n                          </Link>\r\n                        </div>\r\n\r\n                        <div>\r\n                          {item.qty} x ${item.price} = ${item.qty * item.price}\r\n                        </div>\r\n                      </div>\r\n                    </li>\r\n                  ))}\r\n                </ul>\r\n              </div>\r\n            </li>\r\n          </ul>\r\n        </div>\r\n        <div className=\"col-1\">\r\n          <div className=\"card card-body\">\r\n            <ul>\r\n              <li>\r\n                <h2>Order Summary</h2>\r\n              </li>\r\n              <li>\r\n                <div className=\"row\">\r\n                  <div>Items</div>\r\n                  <div>${order.itemsPrice.toFixed(2)}</div>\r\n                </div>\r\n              </li>\r\n              <li>\r\n                <div className=\"row\">\r\n                  <div>Shipping</div>\r\n                  <div>${order.shippingPrice.toFixed(2)}</div>\r\n                </div>\r\n              </li>\r\n              <li>\r\n                <div className=\"row\">\r\n                  <div>Tax</div>\r\n                  <div>${order.taxPrice.toFixed(2)}</div>\r\n                </div>\r\n              </li>\r\n              <li>\r\n                <div className=\"row\">\r\n                  <div>\r\n                    <strong> Order Total</strong>\r\n                  </div>\r\n                  <div>\r\n                    <strong>${order.totalPrice.toFixed(2)}</strong>\r\n                  </div>\r\n                </div>\r\n              </li>\r\n              {!order.isPaid && (\r\n                <li>\r\n                  <button onClick={paymentHandeler}>Pay Using Paytm</button>\r\n                </li>\r\n              )}\r\n              {userInfo.isAdmin && order.isPaid && !order.isDelivered && (\r\n                <li>\r\n                  {loadingDeliver && <LoadingBox />}\r\n                  {errorDeliver && (\r\n                    <MessageBox variant=\"danger\">{errorDeliver}</MessageBox>\r\n                  )}\r\n                  <button\r\n                    type=\"button\"\r\n                    className=\"block primary\"\r\n                    onClick={deliverHandler}\r\n                  >\r\n                    Deliver Order\r\n                  </button>\r\n                </li>\r\n              )}\r\n            </ul>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}","import Axios from 'axios';\r\nimport {\r\n  CART_ADD_ITEM,\r\n  CART_REMOVE_ITEM,\r\n  CART_SAVE_SHIPPING_ADDRESS,\r\n  CART_SAVE_PAYMENT_METHOD,\r\n  CART_ADD_ITEM_FAIL,\r\n} from '../constants/cartConstants';\r\n\r\nexport const addToCart = (productId, qty) => async (dispatch, getState) => {\r\n  const { data } = await Axios.get(`/api/products/${productId}`);\r\n  const {\r\n    cart: { cartItems },\r\n  } = getState();\r\n  if (cartItems.length > 0 && data.seller._id !== cartItems[0].seller._id) {\r\n    dispatch({\r\n      type: CART_ADD_ITEM_FAIL,\r\n      payload: `Can't Add To Cart. Buy only from ${cartItems[0].seller.seller.name} in this order`,\r\n    });\r\n  } else {\r\n    dispatch({\r\n      type: CART_ADD_ITEM,\r\n      payload: {\r\n        name: data.name,\r\n        image: data.image,\r\n        price: data.price,\r\n        countInStock: data.countInStock,\r\n        product: data._id,\r\n        seller: data.seller,\r\n        qty,\r\n      },\r\n    });\r\n    localStorage.setItem(\r\n      'cartItems',\r\n      JSON.stringify(getState().cart.cartItems)\r\n    );\r\n  }\r\n};\r\n\r\nexport const removeFromCart = (productId) => (dispatch, getState) => {\r\n  dispatch({ type: CART_REMOVE_ITEM, payload: productId });\r\n  localStorage.setItem('cartItems', JSON.stringify(getState().cart.cartItems));\r\n};\r\n\r\nexport const saveShippingAddress = (data) => (dispatch) => {\r\n  dispatch({ type: CART_SAVE_SHIPPING_ADDRESS, payload: data });\r\n  localStorage.setItem('shippingAddress', JSON.stringify(data));\r\n};\r\nexport const savePaymentMethod = (data) => (dispatch) => {\r\n  dispatch({ type: CART_SAVE_PAYMENT_METHOD, payload: data });\r\n};\r\n","import React from 'react';\r\n\r\nexport default function CheckoutSteps(props) {\r\n  return (\r\n    <div className=\"row checkout-steps\">\r\n      <div className={props.step1 ? 'active' : ''}>Sign-In</div>\r\n      <div className={props.step2 ? 'active' : ''}>Shipping</div>\r\n      <div className={props.step3 ? 'active' : ''}>Payment</div>\r\n      <div className={props.step4 ? 'active' : ''}>Place Order</div>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useState } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\n\r\nimport { savePaymentMethod } from '../actions/cartActions';\r\nimport CheckoutSteps from '../components/CheckoutSteps';\r\n\r\nexport default function PaymentMethodScreen(props) {\r\n  const cart = useSelector((state) => state.cart);\r\n  const { shippingAddress } = cart;\r\n  if (!shippingAddress.address) {\r\n    props.history.push('/shipping');\r\n  }\r\n  const [paymentMethod, setPaymentMethod] = useState('Paytm');\r\n  const dispatch = useDispatch();\r\n\r\n  const submitHandler = (e) => {\r\n    e.preventDefault();\r\n    dispatch(savePaymentMethod(paymentMethod));\r\n    props.history.push('/placeorder');\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <CheckoutSteps step1 step2 step3></CheckoutSteps>\r\n      <form className=\"form\" onSubmit={submitHandler}>\r\n        <div>\r\n          <h1>Payment Method</h1>\r\n        </div>\r\n        <div>\r\n          <div>\r\n            <input type=\"radio\" id=\"paypal\" value=\"Paytm\" name=\"paymentMethod\" required checked onChange={(e) => setPaymentMethod(e.target.value)} />\r\n            <label htmlFor=\"paypal\">Paytm</label>\r\n          </div>\r\n        </div>\r\n        <div>\r\n          <label />\r\n          <button className=\"primary\" type=\"submit\">\r\n            Continue\r\n          </button>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  );\r\n}","import React, { useEffect } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { Link } from 'react-router-dom';\r\nimport { createOrder } from '../actions/orderActions';\r\nimport CheckoutSteps from '../components/CheckoutSteps';\r\nimport { ORDER_CREATE_RESET } from '../constants/orderConstants';\r\nimport LoadingBox from '../components/LoadingBox';\r\nimport MessageBox from '../components/MessageBox';\r\n\r\nexport default function PlaceOrderScreen(props) {\r\n  const cart = useSelector((state) => state.cart);\r\n  if (!cart.paymentMethod) {\r\n    props.history.push('/payment');\r\n  }\r\n  const orderCreate = useSelector((state) => state.orderCreate);\r\n  const { loading, success, error, order } = orderCreate;\r\n  const toPrice = (num) => Number(num.toFixed(2)); // 5.123 => \"5.12\" => 5.12\r\n  cart.itemsPrice = toPrice(\r\n    cart.cartItems.reduce((a, c) => a + c.qty * c.price, 0)\r\n  );\r\n  cart.shippingPrice = cart.itemsPrice > 100 ? toPrice(0) : toPrice(10);\r\n  cart.taxPrice = toPrice(0.15 * cart.itemsPrice);\r\n  cart.totalPrice = cart.itemsPrice + cart.shippingPrice + cart.taxPrice;\r\n  const dispatch = useDispatch();\r\n  const placeOrderHandler = () => {\r\n    dispatch(createOrder({ ...cart, orderItems: cart.cartItems }));\r\n  };\r\n  useEffect(() => {\r\n    if (success) {\r\n      props.history.push(`/order/${order._id}`);\r\n      dispatch({ type: ORDER_CREATE_RESET });\r\n    }\r\n  }, [dispatch, order, props.history, success]);\r\n  return (\r\n    <div>\r\n      <CheckoutSteps step1 step2 step3 step4></CheckoutSteps>\r\n      <div className=\"row top\">\r\n        <div className=\"col-2\">\r\n          <ul>\r\n            <li>\r\n              <div className=\"card card-body\">\r\n                <h2>Shipping</h2>\r\n                <p>\r\n                  <strong>Name:</strong> {cart.shippingAddress.fullName} <br />\r\n                  <strong>Address: </strong> {cart.shippingAddress.address},\r\n                  {cart.shippingAddress.city}, {cart.shippingAddress.postalCode}\r\n                  ,{cart.shippingAddress.country}\r\n                </p>\r\n              </div>\r\n            </li>\r\n            <li>\r\n              <div className=\"card card-body\">\r\n                <h2>Payment</h2>\r\n                <p>\r\n                  <strong>Method:</strong> {cart.paymentMethod}\r\n                </p>\r\n              </div>\r\n            </li>\r\n            <li>\r\n              <div className=\"card card-body\">\r\n                <h2>Order Items</h2>\r\n                <ul>\r\n                  {cart.cartItems.map((item) => (\r\n                    <li key={item.product}>\r\n                      <div className=\"row\">\r\n                        <div>\r\n                          <img\r\n                            src={item.image}\r\n                            alt={item.name}\r\n                            className=\"small\"\r\n                          ></img>\r\n                        </div>\r\n                        <div className=\"min-30\">\r\n                          <Link to={`/product/${item.product}`}>\r\n                            {item.name}\r\n                          </Link>\r\n                        </div>\r\n                        <div>\r\n                          {item.qty} x ${item.price} = ${item.qty * item.price}\r\n                        </div>\r\n                      </div>\r\n                    </li>\r\n                  ))}\r\n                </ul>\r\n              </div>\r\n            </li>\r\n          </ul>\r\n        </div>\r\n        <div className=\"col-1\">\r\n          <div className=\"card card-body\">\r\n            <ul>\r\n              <li>\r\n                <h2>Order Summary</h2>\r\n              </li>\r\n              <li>\r\n                <div className=\"row\">\r\n                  <div>Items</div>\r\n                  <div>${cart.itemsPrice.toFixed(2)}</div>\r\n                </div>\r\n              </li>\r\n              <li>\r\n                <div className=\"row\">\r\n                  <div>Shipping</div>\r\n                  <div>${cart.shippingPrice.toFixed(2)}</div>\r\n                </div>\r\n              </li>\r\n              <li>\r\n                <div className=\"row\">\r\n                  <div>Tax</div>\r\n                  <div>${cart.taxPrice.toFixed(2)}</div>\r\n                </div>\r\n              </li>\r\n              <li>\r\n                <div className=\"row\">\r\n                  <div>\r\n                    <strong> Order Total</strong>\r\n                  </div>\r\n                  <div>\r\n                    <strong>${cart.totalPrice.toFixed(2)}</strong>\r\n                  </div>\r\n                </div>\r\n              </li>\r\n              <li>\r\n                <button\r\n                  type=\"button\"\r\n                  onClick={placeOrderHandler}\r\n                  className=\"primary block\"\r\n                  disabled={cart.cartItems.length === 0}\r\n                >\r\n                  Place Order\r\n                </button>\r\n              </li>\r\n              {loading && <LoadingBox></LoadingBox>}\r\n              {error && <MessageBox variant=\"danger\">{error}</MessageBox>}\r\n            </ul>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useEffect } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { Link, useParams } from 'react-router-dom';\r\nimport {\r\n  createProduct,\r\n  deleteProduct,\r\n  listProducts,\r\n} from '../actions/productActions';\r\nimport LoadingBox from '../components/LoadingBox';\r\nimport MessageBox from '../components/MessageBox';\r\nimport {\r\n  PRODUCT_CREATE_RESET,\r\n  PRODUCT_DELETE_RESET,\r\n} from '../constants/productConstants';\r\n\r\nexport default function ProductListScreen(props) {\r\n  const { pageNumber = 1 } = useParams();\r\n\r\n  const sellerMode = props.match.path.indexOf('/seller') >= 0;\r\n  const productList = useSelector((state) => state.productList);\r\n  const { loading, error, products, page, pages } = productList;\r\n\r\n  const productCreate = useSelector((state) => state.productCreate);\r\n  const {\r\n    loading: loadingCreate,\r\n    error: errorCreate,\r\n    success: successCreate,\r\n    product: createdProduct,\r\n  } = productCreate;\r\n\r\n  const productDelete = useSelector((state) => state.productDelete);\r\n  const {\r\n    loading: loadingDelete,\r\n    error: errorDelete,\r\n    success: successDelete,\r\n  } = productDelete;\r\n  const userSignin = useSelector((state) => state.userSignin);\r\n  const { userInfo } = userSignin;\r\n  const dispatch = useDispatch();\r\n  useEffect(() => {\r\n    if (successCreate) {\r\n      dispatch({ type: PRODUCT_CREATE_RESET });\r\n      props.history.push(`/product/${createdProduct._id}/edit`);\r\n    }\r\n    if (successDelete) {\r\n      dispatch({ type: PRODUCT_DELETE_RESET });\r\n    }\r\n    dispatch(\r\n      listProducts({ seller: sellerMode ? userInfo._id : '', pageNumber })\r\n    );\r\n  }, [\r\n    createdProduct,\r\n    dispatch,\r\n    props.history,\r\n    sellerMode,\r\n    successCreate,\r\n    successDelete,\r\n    userInfo._id,\r\n    pageNumber,\r\n  ]);\r\n\r\n  const deleteHandler = (product) => {\r\n    if (window.confirm('Are you sure to delete?')) {\r\n      dispatch(deleteProduct(product._id));\r\n    }\r\n  };\r\n  const createHandler = () => {\r\n    dispatch(createProduct());\r\n  };\r\n  return (\r\n    <div>\r\n      <div className=\"row\">\r\n        <h1>Products</h1>\r\n        <button type=\"button\" className=\"primary\" onClick={createHandler}>\r\n          Create Product\r\n        </button>\r\n      </div>\r\n\r\n      {loadingDelete && <LoadingBox></LoadingBox>}\r\n      {errorDelete && <MessageBox variant=\"danger\">{errorDelete}</MessageBox>}\r\n\r\n      {loadingCreate && <LoadingBox></LoadingBox>}\r\n      {errorCreate && <MessageBox variant=\"danger\">{errorCreate}</MessageBox>}\r\n      {loading ? (\r\n        <LoadingBox></LoadingBox>\r\n      ) : error ? (\r\n        <MessageBox variant=\"danger\">{error}</MessageBox>\r\n      ) : (\r\n        <>\r\n          <table className=\"table\">\r\n            <thead>\r\n              <tr>\r\n                <th>ID</th>\r\n                <th>NAME</th>\r\n                <th>PRICE</th>\r\n                <th>CATEGORY</th>\r\n                <th>BRAND</th>\r\n                <th>ACTIONS</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {products.map((product) => (\r\n                <tr key={product._id}>\r\n                  <td>{product._id}</td>\r\n                  <td>{product.name}</td>\r\n                  <td>{product.price}</td>\r\n                  <td>{product.category}</td>\r\n                  <td>{product.brand}</td>\r\n                  <td>\r\n                    <button\r\n                      type=\"button\"\r\n                      className=\"small\"\r\n                      onClick={() =>\r\n                        props.history.push(`/product/${product._id}/edit`)\r\n                      }\r\n                    >\r\n                      Edit\r\n                    </button>\r\n                    <button\r\n                      type=\"button\"\r\n                      className=\"small\"\r\n                      onClick={() => deleteHandler(product)}\r\n                    >\r\n                      Delete\r\n                    </button>\r\n                  </td>\r\n                </tr>\r\n              ))}\r\n            </tbody>\r\n          </table>\r\n          <div className=\"row center pagination\">\r\n            {[...Array(pages).keys()].map((x) => (\r\n              <Link\r\n                className={x + 1 === page ? 'active' : ''}\r\n                key={x + 1}\r\n                to={`/productlist/pageNumber/${x + 1}`}\r\n              >\r\n                {x + 1}\r\n              </Link>\r\n            ))}\r\n          </div>\r\n        </>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n","import React, { useEffect, useState } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { Link } from 'react-router-dom';\r\nimport { createReview, detailsProduct } from '../actions/productActions';\r\nimport LoadingBox from '../components/LoadingBox';\r\nimport MessageBox from '../components/MessageBox';\r\nimport Rating from '../components/Rating';\r\nimport { PRODUCT_REVIEW_CREATE_RESET } from '../constants/productConstants';\r\n\r\nexport default function ProductScreen(props) {\r\n  const dispatch = useDispatch();\r\n  const productId = props.match.params.id;\r\n  const [qty, setQty] = useState(1);\r\n  const productDetails = useSelector((state) => state.productDetails);\r\n  const { loading, error, product } = productDetails;\r\n  const userSignin = useSelector((state) => state.userSignin);\r\n  const { userInfo } = userSignin;\r\n\r\n  const productReviewCreate = useSelector((state) => state.productReviewCreate);\r\n  const {\r\n    loading: loadingReviewCreate,\r\n    error: errorReviewCreate,\r\n    success: successReviewCreate,\r\n  } = productReviewCreate;\r\n\r\n  const [rating, setRating] = useState(0);\r\n  const [comment, setComment] = useState('');\r\n\r\n  useEffect(() => {\r\n    if (successReviewCreate) {\r\n      window.alert('Review Submitted Successfully');\r\n      setRating('');\r\n      setComment('');\r\n      dispatch({ type: PRODUCT_REVIEW_CREATE_RESET });\r\n    }\r\n    dispatch(detailsProduct(productId));\r\n  }, [dispatch, productId, successReviewCreate]);\r\n  const addToCartHandler = () => {\r\n    props.history.push(`/cart/${productId}?qty=${qty}`);\r\n  };\r\n  const submitHandler = (e) => {\r\n    e.preventDefault();\r\n    if (comment && rating) {\r\n      dispatch(\r\n        createReview(productId, { rating, comment, name: userInfo.name })\r\n      );\r\n    } else {\r\n      alert('Please enter comment and rating');\r\n    }\r\n  };\r\n  return (\r\n    <div>\r\n      {loading ? (\r\n        <LoadingBox></LoadingBox>\r\n      ) : error ? (\r\n        <MessageBox variant=\"danger\">{error}</MessageBox>\r\n      ) : (\r\n        <div>\r\n          <Link to=\"/\">Back to result</Link>\r\n          <div className=\"row top\">\r\n            <div className=\"col-2\">\r\n              <img\r\n                className=\"large\"\r\n                src={product.image}\r\n                alt={product.name}\r\n              ></img>\r\n            </div>\r\n            <div className=\"col-1\">\r\n              <ul>\r\n                <li>\r\n                  <h1>{product.name}</h1>\r\n                </li>\r\n                <li>\r\n                  <Rating\r\n                    rating={product.rating}\r\n                    numReviews={product.numReviews}\r\n                  ></Rating>\r\n                </li>\r\n                <li>Pirce : ${product.price}</li>\r\n                <li>\r\n                  Description:\r\n                  <p>{product.description}</p>\r\n                </li>\r\n              </ul>\r\n            </div>\r\n            <div className=\"col-1\">\r\n              <div className=\"card card-body\">\r\n                <ul>\r\n                  <li>\r\n                    Seller{' '}\r\n                    <h2>\r\n                      <Link to={`/seller/${product.seller._id}`}>\r\n                        {product.seller.seller.name}\r\n                      </Link>\r\n                    </h2>\r\n                    <Rating\r\n                      rating={product.seller.seller.rating}\r\n                      numReviews={product.seller.seller.numReviews}\r\n                    ></Rating>\r\n                  </li>\r\n                  <li>\r\n                    <div className=\"row\">\r\n                      <div>Price</div>\r\n                      <div className=\"price\">${product.price}</div>\r\n                    </div>\r\n                  </li>\r\n                  <li>\r\n                    <div className=\"row\">\r\n                      <div>Status</div>\r\n                      <div>\r\n                        {product.countInStock > 0 ? (\r\n                          <span className=\"success\">In Stock</span>\r\n                        ) : (\r\n                          <span className=\"danger\">Unavailable</span>\r\n                        )}\r\n                      </div>\r\n                    </div>\r\n                  </li>\r\n                  {product.countInStock > 0 && (\r\n                    <>\r\n                      <li>\r\n                        <div className=\"row\">\r\n                          <div>Qty</div>\r\n                          <div>\r\n                            <select\r\n                              value={qty}\r\n                              onChange={(e) => setQty(e.target.value)}\r\n                            >\r\n                              {[...Array(product.countInStock).keys()].map(\r\n                                (x) => (\r\n                                  <option key={x + 1} value={x + 1}>\r\n                                    {x + 1}\r\n                                  </option>\r\n                                )\r\n                              )}\r\n                            </select>\r\n                          </div>\r\n                        </div>\r\n                      </li>\r\n                      <li>\r\n                        <button\r\n                          onClick={addToCartHandler}\r\n                          className=\"primary block\"\r\n                        >\r\n                          Add to Cart\r\n                        </button>\r\n                      </li>\r\n                    </>\r\n                  )}\r\n                </ul>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div>\r\n            <h2 id=\"reviews\">Reviews</h2>\r\n            {product.reviews.length === 0 && (\r\n              <MessageBox>There is no review</MessageBox>\r\n            )}\r\n            <ul>\r\n              {product.reviews.map((review) => (\r\n                <li key={review._id}>\r\n                  <strong>{review.name}</strong>\r\n                  <Rating rating={review.rating} caption=\" \"></Rating>\r\n                  <p>{review.createdAt.substring(0, 10)}</p>\r\n                  <p>{review.comment}</p>\r\n                </li>\r\n              ))}\r\n              <li>\r\n                {userInfo ? (\r\n                  <form className=\"form\" onSubmit={submitHandler}>\r\n                    <div>\r\n                      <h2>Write a customer review</h2>\r\n                    </div>\r\n                    <div>\r\n                      <label htmlFor=\"rating\">Rating</label>\r\n                      <select\r\n                        id=\"rating\"\r\n                        value={rating}\r\n                        onChange={(e) => setRating(e.target.value)}\r\n                      >\r\n                        <option value=\"\">Select...</option>\r\n                        <option value=\"1\">1- Poor</option>\r\n                        <option value=\"2\">2- Fair</option>\r\n                        <option value=\"3\">3- Good</option>\r\n                        <option value=\"4\">4- Very good</option>\r\n                        <option value=\"5\">5- Excelent</option>\r\n                      </select>\r\n                    </div>\r\n                    <div>\r\n                      <label htmlFor=\"comment\">Comment</label>\r\n                      <textarea\r\n                        id=\"comment\"\r\n                        value={comment}\r\n                        onChange={(e) => setComment(e.target.value)}\r\n                      ></textarea>\r\n                    </div>\r\n                    <div>\r\n                      <label />\r\n                      <button className=\"primary\" type=\"submit\">\r\n                        Submit\r\n                      </button>\r\n                    </div>\r\n                    <div>\r\n                      {loadingReviewCreate && <LoadingBox></LoadingBox>}\r\n                      {errorReviewCreate && (\r\n                        <MessageBox variant=\"danger\">\r\n                          {errorReviewCreate}\r\n                        </MessageBox>\r\n                      )}\r\n                    </div>\r\n                  </form>\r\n                ) : (\r\n                  <MessageBox>\r\n                    Please <Link to=\"/signin\">Sign In</Link> to write a review\r\n                  </MessageBox>\r\n                )}\r\n              </li>\r\n            </ul>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n","import React, { useEffect, useState } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { detailsUser, updateUserProfile } from '../actions/userActions';\r\nimport LoadingBox from '../components/LoadingBox';\r\nimport MessageBox from '../components/MessageBox';\r\nimport { USER_UPDATE_PROFILE_RESET } from '../constants/userConstants';\r\n\r\nexport default function ProfileScreen() {\r\n  const [name, setName] = useState('');\r\n  const [email, setEmail] = useState('');\r\n  const [password, setPassword] = useState('');\r\n  const [confirmPassword, setConfirmPassword] = useState('');\r\n  const [sellerName, setSellerName] = useState('');\r\n  const [sellerLogo, setSellerLogo] = useState('');\r\n  const [sellerDescription, setSellerDescription] = useState('');\r\n\r\n  const userSignin = useSelector((state) => state.userSignin);\r\n  const { userInfo } = userSignin;\r\n  const userDetails = useSelector((state) => state.userDetails);\r\n  const { loading, error, user } = userDetails;\r\n  const userUpdateProfile = useSelector((state) => state.userUpdateProfile);\r\n  const {\r\n    success: successUpdate,\r\n    error: errorUpdate,\r\n    loading: loadingUpdate,\r\n  } = userUpdateProfile;\r\n  const dispatch = useDispatch();\r\n  useEffect(() => {\r\n    if (!user) {\r\n      dispatch({ type: USER_UPDATE_PROFILE_RESET });\r\n      dispatch(detailsUser(userInfo._id));\r\n    } else {\r\n      setName(user.name);\r\n      setEmail(user.email);\r\n      if (user.seller) {\r\n        setSellerName(user.seller.name);\r\n        setSellerLogo(user.seller.logo);\r\n        setSellerDescription(user.seller.description);\r\n      }\r\n    }\r\n  }, [dispatch, userInfo._id, user]);\r\n  const submitHandler = (e) => {\r\n    e.preventDefault();\r\n    // dispatch update profile\r\n    if (password !== confirmPassword) {\r\n      alert('Password and Confirm Password Are Not Matched');\r\n    } else {\r\n      dispatch(\r\n        updateUserProfile({\r\n          userId: user._id,\r\n          name,\r\n          email,\r\n          password,\r\n          sellerName,\r\n          sellerLogo,\r\n          sellerDescription,\r\n        })\r\n      );\r\n    }\r\n  };\r\n  return (\r\n    <div>\r\n      <form className=\"form\" onSubmit={submitHandler}>\r\n        <div>\r\n          <h1>User Profile</h1>\r\n        </div>\r\n        {loading ? (\r\n          <LoadingBox></LoadingBox>\r\n        ) : error ? (\r\n          <MessageBox variant=\"danger\">{error}</MessageBox>\r\n        ) : (\r\n          <>\r\n            {loadingUpdate && <LoadingBox></LoadingBox>}\r\n            {errorUpdate && (\r\n              <MessageBox variant=\"danger\">{errorUpdate}</MessageBox>\r\n            )}\r\n            {successUpdate && (\r\n              <MessageBox variant=\"success\">\r\n                Profile Updated Successfully\r\n              </MessageBox>\r\n            )}\r\n            <div>\r\n              <label htmlFor=\"name\">Name</label>\r\n              <input\r\n                id=\"name\"\r\n                type=\"text\"\r\n                placeholder=\"Enter name\"\r\n                value={name}\r\n                onChange={(e) => setName(e.target.value)}\r\n              ></input>\r\n            </div>\r\n            <div>\r\n              <label htmlFor=\"email\">Email</label>\r\n              <input\r\n                id=\"email\"\r\n                type=\"email\"\r\n                placeholder=\"Enter email\"\r\n                value={email}\r\n                onChange={(e) => setEmail(e.target.value)}\r\n              ></input>\r\n            </div>\r\n            <div>\r\n              <label htmlFor=\"password\">Password</label>\r\n              <input\r\n                id=\"password\"\r\n                type=\"password\"\r\n                placeholder=\"Enter password\"\r\n                onChange={(e) => setPassword(e.target.value)}\r\n              ></input>\r\n            </div>\r\n            <div>\r\n              <label htmlFor=\"confirmPassword\">confirm Password</label>\r\n              <input\r\n                id=\"confirmPassword\"\r\n                type=\"password\"\r\n                placeholder=\"Enter confirm password\"\r\n                onChange={(e) => setConfirmPassword(e.target.value)}\r\n              ></input>\r\n            </div>\r\n            {user.isSeller && (\r\n              <>\r\n                <h2>Seller</h2>\r\n                <div>\r\n                  <label htmlFor=\"sellerName\">Seller Name</label>\r\n                  <input\r\n                    id=\"sellerName\"\r\n                    type=\"text\"\r\n                    placeholder=\"Enter Seller Name\"\r\n                    value={sellerName}\r\n                    onChange={(e) => setSellerName(e.target.value)}\r\n                  ></input>\r\n                </div>\r\n                <div>\r\n                  <label htmlFor=\"sellerLogo\">Seller Logo</label>\r\n                  <input\r\n                    id=\"sellerLogo\"\r\n                    type=\"text\"\r\n                    placeholder=\"Enter Seller Logo\"\r\n                    value={sellerLogo}\r\n                    onChange={(e) => setSellerLogo(e.target.value)}\r\n                  ></input>\r\n                </div>\r\n                <div>\r\n                  <label htmlFor=\"sellerDescription\">Seller Description</label>\r\n                  <input\r\n                    id=\"sellerDescription\"\r\n                    type=\"text\"\r\n                    placeholder=\"Enter Seller Description\"\r\n                    value={sellerDescription}\r\n                    onChange={(e) => setSellerDescription(e.target.value)}\r\n                  ></input>\r\n                </div>\r\n              </>\r\n            )}\r\n            <div>\r\n              <label />\r\n              <button className=\"primary\" type=\"submit\">\r\n                Update\r\n              </button>\r\n            </div>\r\n          </>\r\n        )}\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useEffect, useState } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { Link } from 'react-router-dom';\r\nimport { register } from '../actions/userActions';\r\nimport LoadingBox from '../components/LoadingBox';\r\nimport MessageBox from '../components/MessageBox';\r\n\r\nexport default function RegisterScreen(props) {\r\n  const [name, setName] = useState('');\r\n  const [email, setEmail] = useState('');\r\n  const [password, setPassword] = useState('');\r\n  const [confirmPassword, setConfirmPassword] = useState('');\r\n\r\n  const redirect = props.location.search\r\n    ? props.location.search.split('=')[1]\r\n    : '/';\r\n\r\n  const userRegister = useSelector((state) => state.userRegister);\r\n  const { userInfo, loading, error } = userRegister;\r\n\r\n  const dispatch = useDispatch();\r\n  const submitHandler = (e) => {\r\n    e.preventDefault();\r\n    if (password !== confirmPassword) {\r\n      alert('Password and confirm password are not match');\r\n    } else {\r\n      dispatch(register(name, email, password));\r\n    }\r\n  };\r\n  useEffect(() => {\r\n    if (userInfo) {\r\n      props.history.push(redirect);\r\n    }\r\n  }, [props.history, redirect, userInfo]);\r\n  return (\r\n    <div>\r\n      <form className=\"form\" onSubmit={submitHandler}>\r\n        <div>\r\n          <h1>Create Account</h1>\r\n        </div>\r\n        {loading && <LoadingBox></LoadingBox>}\r\n        {error && <MessageBox variant=\"danger\">{error}</MessageBox>}\r\n        <div>\r\n          <label htmlFor=\"name\">Name</label>\r\n          <input\r\n            type=\"text\"\r\n            id=\"name\"\r\n            placeholder=\"Enter name\"\r\n            required\r\n            onChange={(e) => setName(e.target.value)}\r\n          ></input>\r\n        </div>\r\n        <div>\r\n          <label htmlFor=\"email\">Email address</label>\r\n          <input\r\n            type=\"email\"\r\n            id=\"email\"\r\n            placeholder=\"Enter email\"\r\n            required\r\n            onChange={(e) => setEmail(e.target.value)}\r\n          ></input>\r\n        </div>\r\n        <div>\r\n          <label htmlFor=\"password\">Password</label>\r\n          <input\r\n            type=\"password\"\r\n            id=\"password\"\r\n            placeholder=\"Enter password\"\r\n            required\r\n            onChange={(e) => setPassword(e.target.value)}\r\n          ></input>\r\n        </div>\r\n        <div>\r\n          <label htmlFor=\"confirmPassword\">Confirm Password</label>\r\n          <input\r\n            type=\"password\"\r\n            id=\"confirmPassword\"\r\n            placeholder=\"Enter confirm password\"\r\n            required\r\n            onChange={(e) => setConfirmPassword(e.target.value)}\r\n          ></input>\r\n        </div>\r\n        <div>\r\n          <label />\r\n          <button className=\"primary\" type=\"submit\">\r\n            Register\r\n          </button>\r\n        </div>\r\n        <div>\r\n          <label />\r\n          <div>\r\n            Already have an account?{' '}\r\n            <Link to={`/signin?redirect=${redirect}`}>Sign-In</Link>\r\n          </div>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useState } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { saveShippingAddress } from '../actions/cartActions';\r\nimport CheckoutSteps from '../components/CheckoutSteps';\r\n\r\nexport default function ShippingAddressScreen(props) {\r\n  const userSignin = useSelector((state) => state.userSignin);\r\n\r\n  const { userInfo } = userSignin;\r\n  const cart = useSelector((state) => state.cart);\r\n  const { shippingAddress } = cart;\r\n  const [lat, setLat] = useState(shippingAddress.lat);\r\n  const [lng, setLng] = useState(shippingAddress.lng);\r\n  const userAddressMap = useSelector((state) => state.userAddressMap);\r\n  const { address: addressMap } = userAddressMap;\r\n\r\n  if (!userInfo) {\r\n    props.history.push('/signin');\r\n  }\r\n  const [fullName, setFullName] = useState(shippingAddress.fullName);\r\n  const [address, setAddress] = useState(shippingAddress.address);\r\n  const [city, setCity] = useState(shippingAddress.city);\r\n  const [postalCode, setPostalCode] = useState(shippingAddress.postalCode);\r\n  const [country, setCountry] = useState(shippingAddress.country);\r\n  const dispatch = useDispatch();\r\n  const submitHandler = (e) => {\r\n    e.preventDefault();\r\n    const newLat = addressMap ? addressMap.lat : lat;\r\n    const newLng = addressMap ? addressMap.lng : lng;\r\n    if (addressMap) {\r\n      setLat(addressMap.lat);\r\n      setLng(addressMap.lng);\r\n    }\r\n    let moveOn = true;\r\n    if (!newLat || !newLng) {\r\n      moveOn = window.confirm(\r\n        'You did not set your location on map. Continue?'\r\n      );\r\n    }\r\n    if (moveOn) {\r\n      dispatch(\r\n        saveShippingAddress({\r\n          fullName,\r\n          address,\r\n          city,\r\n          postalCode,\r\n          country,\r\n          lat: newLat,\r\n          lng: newLng,\r\n        })\r\n      );\r\n      props.history.push('/payment');\r\n    }\r\n  };\r\n  const chooseOnMap = () => {\r\n    dispatch(\r\n      saveShippingAddress({\r\n        fullName,\r\n        address,\r\n        city,\r\n        postalCode,\r\n        country,\r\n        lat,\r\n        lng,\r\n      })\r\n    );\r\n    props.history.push('/map');\r\n  };\r\n  return (\r\n    <div>\r\n      <CheckoutSteps step1 step2></CheckoutSteps>\r\n      <form className=\"form\" onSubmit={submitHandler}>\r\n        <div>\r\n          <h1>Shipping Address</h1>\r\n        </div>\r\n        <div>\r\n          <label htmlFor=\"fullName\">Full Name</label>\r\n          <input type=\"text\" id=\"fullName\" placeholder=\"Enter full name\" value={fullName} onChange={(e) => setFullName(e.target.value)} required />\r\n        </div>\r\n        <div>\r\n          <label htmlFor=\"address\">Address</label>\r\n          <input type=\"text\" id=\"address\" placeholder=\"Enter address\" value={address} onChange={(e) => setAddress(e.target.value)} required />\r\n        </div>\r\n        <div>\r\n          <label htmlFor=\"city\">City</label>\r\n          <input type=\"text\" id=\"city\" placeholder=\"Enter city\" value={city} onChange={(e) => setCity(e.target.value)} required />\r\n        </div>\r\n        <div>\r\n          <label htmlFor=\"postalCode\">Postal Code</label>\r\n          <input type=\"text\" id=\"postalCode\" placeholder=\"Enter postal code\" value={postalCode} onChange={(e) => setPostalCode(e.target.value)} required />\r\n        </div>\r\n        <div>\r\n          <label htmlFor=\"country\">Country</label>\r\n          <input type=\"text\" id=\"country\" placeholder=\"Enter country\" value={country} onChange={(e) => setCountry(e.target.value)} required />\r\n        </div>\r\n        <div>\r\n          <label htmlFor=\"chooseOnMap\">Location</label>\r\n          <button type=\"button\" onClick={chooseOnMap}>\r\n            Choose On Map\r\n          </button>\r\n        </div>\r\n        <div>\r\n          <label />\r\n          <button className=\"primary\" type=\"submit\">\r\n            Continue\r\n          </button>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useEffect, useState } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { Link } from 'react-router-dom';\r\nimport { signin } from '../actions/userActions';\r\nimport LoadingBox from '../components/LoadingBox';\r\nimport MessageBox from '../components/MessageBox';\r\n\r\nexport default function SigninScreen(props) {\r\n  const [email, setEmail] = useState('');\r\n  const [password, setPassword] = useState('');\r\n\r\n  const redirect = props.location.search\r\n    ? props.location.search.split('=')[1]\r\n    : '/';\r\n\r\n  const userSignin = useSelector((state) => state.userSignin);\r\n  const { userInfo, loading, error } = userSignin;\r\n\r\n  const dispatch = useDispatch();\r\n  const submitHandler = (e) => {\r\n    e.preventDefault();\r\n    dispatch(signin(email, password));\r\n  };\r\n  useEffect(() => {\r\n    if (userInfo) {\r\n      props.history.push(redirect);\r\n    }\r\n  }, [props.history, redirect, userInfo]);\r\n  return (\r\n    <div>\r\n      <form className=\"form\" onSubmit={submitHandler}>\r\n        <div>\r\n          <h1>Sign In</h1>\r\n        </div>\r\n        {loading && <LoadingBox />}\r\n        {error && <MessageBox variant=\"danger\">{error}</MessageBox>}\r\n        <div>\r\n          <label htmlFor=\"email\">Email address</label>\r\n          <input\r\n            type=\"email\"\r\n            id=\"email\"\r\n            placeholder=\"Enter email\"\r\n            required\r\n            onChange={(e) => setEmail(e.target.value)}\r\n          ></input>\r\n        </div>\r\n        <div>\r\n          <label htmlFor=\"password\">Password</label>\r\n          <input\r\n            type=\"password\"\r\n            id=\"password\"\r\n            placeholder=\"Enter password\"\r\n            required\r\n            onChange={(e) => setPassword(e.target.value)}\r\n          ></input>\r\n        </div>\r\n        <div>\r\n          <label />\r\n          <button className=\"primary\" type=\"submit\">\r\n            Sign In\r\n          </button>\r\n        </div>\r\n        <div>\r\n          <label />\r\n          <div>\r\n            New customer?{' '}\r\n            <Link to={`/register?redirect=${redirect}`}>\r\n              Create your account\r\n            </Link>\r\n          </div>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useEffect, useState } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport Axios from 'axios';\r\nimport { detailsProduct, updateProduct } from '../actions/productActions';\r\nimport LoadingBox from '../components/LoadingBox';\r\nimport MessageBox from '../components/MessageBox';\r\nimport { PRODUCT_UPDATE_RESET } from '../constants/productConstants';\r\n\r\nexport default function ProductEditScreen(props) {\r\n  const productId = props.match.params.id;\r\n  const [name, setName] = useState('');\r\n  const [price, setPrice] = useState('');\r\n  const [image, setImage] = useState('');\r\n  const [category, setCategory] = useState('');\r\n  const [countInStock, setCountInStock] = useState('');\r\n  const [brand, setBrand] = useState('');\r\n  const [description, setDescription] = useState('');\r\n\r\n  const productDetails = useSelector((state) => state.productDetails);\r\n  const { loading, error, product } = productDetails;\r\n\r\n  const productUpdate = useSelector((state) => state.productUpdate);\r\n  const {\r\n    loading: loadingUpdate,\r\n    error: errorUpdate,\r\n    success: successUpdate,\r\n  } = productUpdate;\r\n\r\n  const dispatch = useDispatch();\r\n  useEffect(() => {\r\n    if (successUpdate) {\r\n      props.history.push('/productlist');\r\n    }\r\n    if (!product || product._id !== productId || successUpdate) {\r\n      dispatch({ type: PRODUCT_UPDATE_RESET });\r\n      dispatch(detailsProduct(productId));\r\n    } else {\r\n      setName(product.name);\r\n      setPrice(product.price);\r\n      setImage(product.image);\r\n      setCategory(product.category);\r\n      setCountInStock(product.countInStock);\r\n      setBrand(product.brand);\r\n      setDescription(product.description);\r\n    }\r\n  }, [product, dispatch, productId, successUpdate, props.history]);\r\n  const submitHandler = (e) => {\r\n    e.preventDefault();\r\n    // TODO: dispatch update product\r\n    dispatch(\r\n      updateProduct({\r\n        _id: productId,\r\n        name,\r\n        price,\r\n        image,\r\n        category,\r\n        brand,\r\n        countInStock,\r\n        description,\r\n      })\r\n    );\r\n  };\r\n  const [loadingUpload, setLoadingUpload] = useState(false);\r\n  const [errorUpload, setErrorUpload] = useState('');\r\n\r\n  const userSignin = useSelector((state) => state.userSignin);\r\n  const { userInfo } = userSignin;\r\n  const uploadFileHandler = async (e) => {\r\n    const file = e.target.files[0];\r\n    const bodyFormData = new FormData();\r\n    bodyFormData.append('image', file);\r\n    setLoadingUpload(true);\r\n    try {\r\n      const { data } = await Axios.post('/api/uploads', bodyFormData, {\r\n        headers: {\r\n          'Content-Type': 'multipart/form-data',\r\n          Authorization: `Bearer ${userInfo.token}`,\r\n        },\r\n      });\r\n      setImage(data);\r\n      setLoadingUpload(false);\r\n    } catch (error) {\r\n      setErrorUpload(error.message);\r\n      setLoadingUpload(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <form className=\"form\" onSubmit={submitHandler}>\r\n        <div>\r\n          <h1>Edit Product {productId}</h1>\r\n        </div>\r\n        {loadingUpdate && <LoadingBox></LoadingBox>}\r\n        {errorUpdate && <MessageBox variant=\"danger\">{errorUpdate}</MessageBox>}\r\n        {loading ? (\r\n          <LoadingBox></LoadingBox>\r\n        ) : error ? (\r\n          <MessageBox variant=\"danger\">{error}</MessageBox>\r\n        ) : (\r\n          <>\r\n            <div>\r\n              <label htmlFor=\"name\">Name</label>\r\n              <input\r\n                id=\"name\"\r\n                type=\"text\"\r\n                placeholder=\"Enter name\"\r\n                value={name}\r\n                onChange={(e) => setName(e.target.value)}\r\n              ></input>\r\n            </div>\r\n            <div>\r\n              <label htmlFor=\"price\">Price</label>\r\n              <input\r\n                id=\"price\"\r\n                type=\"text\"\r\n                placeholder=\"Enter price\"\r\n                value={price}\r\n                onChange={(e) => setPrice(e.target.value)}\r\n              ></input>\r\n            </div>\r\n            <div>\r\n              <label htmlFor=\"image\">Image</label>\r\n              <input\r\n                id=\"image\"\r\n                type=\"text\"\r\n                placeholder=\"Enter image\"\r\n                value={image}\r\n                onChange={(e) => setImage(e.target.value)}\r\n              ></input>\r\n            </div>\r\n            <div>\r\n              <label htmlFor=\"imageFile\">Image File</label>\r\n              <input\r\n                type=\"file\"\r\n                id=\"imageFile\"\r\n                label=\"Choose Image\"\r\n                onChange={uploadFileHandler}\r\n              ></input>\r\n              {loadingUpload && <LoadingBox></LoadingBox>}\r\n              {errorUpload && (\r\n                <MessageBox variant=\"danger\">{errorUpload}</MessageBox>\r\n              )}\r\n            </div>\r\n            <div>\r\n              <label htmlFor=\"category\">Category</label>\r\n              <input\r\n                id=\"category\"\r\n                type=\"text\"\r\n                placeholder=\"Enter category\"\r\n                value={category}\r\n                onChange={(e) => setCategory(e.target.value)}\r\n              ></input>\r\n            </div>\r\n            <div>\r\n              <label htmlFor=\"brand\">Brand</label>\r\n              <input\r\n                id=\"brand\"\r\n                type=\"text\"\r\n                placeholder=\"Enter brand\"\r\n                value={brand}\r\n                onChange={(e) => setBrand(e.target.value)}\r\n              ></input>\r\n            </div>\r\n            <div>\r\n              <label htmlFor=\"countInStock\">Count In Stock</label>\r\n              <input\r\n                id=\"countInStock\"\r\n                type=\"text\"\r\n                placeholder=\"Enter countInStock\"\r\n                value={countInStock}\r\n                onChange={(e) => setCountInStock(e.target.value)}\r\n              ></input>\r\n            </div>\r\n            <div>\r\n              <label htmlFor=\"description\">Description</label>\r\n              <textarea\r\n                id=\"description\"\r\n                rows=\"3\"\r\n                type=\"text\"\r\n                placeholder=\"Enter description\"\r\n                value={description}\r\n                onChange={(e) => setDescription(e.target.value)}\r\n              ></textarea>\r\n            </div>\r\n            <div>\r\n              <label></label>\r\n              <button className=\"primary\" type=\"submit\">\r\n                Update\r\n              </button>\r\n            </div>\r\n          </>\r\n        )}\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useEffect } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { deleteOrder, listOrders } from '../actions/orderActions';\r\nimport LoadingBox from '../components/LoadingBox';\r\nimport MessageBox from '../components/MessageBox';\r\nimport { ORDER_DELETE_RESET } from '../constants/orderConstants';\r\n\r\nexport default function OrderListScreen(props) {\r\n  const sellerMode = props.match.path.indexOf('/seller') >= 0;\r\n  const orderList = useSelector((state) => state.orderList);\r\n  const { loading, error, orders } = orderList;\r\n  const orderDelete = useSelector((state) => state.orderDelete);\r\n  const {\r\n    loading: loadingDelete,\r\n    error: errorDelete,\r\n    success: successDelete,\r\n  } = orderDelete;\r\n\r\n  const userSignin = useSelector((state) => state.userSignin);\r\n  const { userInfo } = userSignin;\r\n  const dispatch = useDispatch();\r\n  useEffect(() => {\r\n    dispatch({ type: ORDER_DELETE_RESET });\r\n    dispatch(listOrders({ seller: sellerMode ? userInfo._id : '' }));\r\n  }, [dispatch, sellerMode, successDelete, userInfo._id]);\r\n  const deleteHandler = (order) => {\r\n    if (window.confirm('Are you sure to delete?')) {\r\n      dispatch(deleteOrder(order._id));\r\n    }\r\n  };\r\n  return (\r\n    <div>\r\n      <h1>Orders</h1>\r\n      {loadingDelete && <LoadingBox></LoadingBox>}\r\n      {errorDelete && <MessageBox variant=\"danger\">{errorDelete}</MessageBox>}\r\n      {loading ? (\r\n        <LoadingBox></LoadingBox>\r\n      ) : error ? (\r\n        <MessageBox variant=\"danger\">{error}</MessageBox>\r\n      ) : (\r\n        <table className=\"table\">\r\n          <thead>\r\n            <tr>\r\n              <th>ID</th>\r\n              <th>USER</th>\r\n              <th>DATE</th>\r\n              <th>TOTAL</th>\r\n              <th>PAID</th>\r\n              <th>DELIVERED</th>\r\n              <th>ACTIONS</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            {orders.map((order) => (\r\n              <tr key={order._id}>\r\n                <td>{order._id}</td>\r\n                <td>{order.user.name}</td>\r\n                <td>{order.createdAt.substring(0, 10)}</td>\r\n                <td>{order.totalPrice.toFixed(2)}</td>\r\n                <td>{order.isPaid ? order.paidAt.substring(0, 10) : 'No'}</td>\r\n                <td>\r\n                  {order.isDelivered\r\n                    ? order.deliveredAt.substring(0, 10)\r\n                    : 'No'}\r\n                </td>\r\n                <td>\r\n                  <button\r\n                    type=\"button\"\r\n                    className=\"small\"\r\n                    onClick={() => {\r\n                      props.history.push(`/order/${order._id}`);\r\n                    }}\r\n                  >\r\n                    Details\r\n                  </button>\r\n                  <button\r\n                    type=\"button\"\r\n                    className=\"small\"\r\n                    onClick={() => deleteHandler(order)}\r\n                  >\r\n                    Delete\r\n                  </button>\r\n                </td>\r\n              </tr>\r\n            ))}\r\n          </tbody>\r\n        </table>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n","import React, { useEffect } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { deleteUser, listUsers } from '../actions/userActions';\r\nimport LoadingBox from '../components/LoadingBox';\r\nimport MessageBox from '../components/MessageBox';\r\nimport { USER_DETAILS_RESET } from '../constants/userConstants';\r\n\r\nexport default function UserListScreen(props) {\r\n  const userList = useSelector((state) => state.userList);\r\n  const { loading, error, users } = userList;\r\n\r\n  const userDelete = useSelector((state) => state.userDelete);\r\n  const {\r\n    loading: loadingDelete,\r\n    error: errorDelete,\r\n    success: successDelete,\r\n  } = userDelete;\r\n\r\n  const dispatch = useDispatch();\r\n  useEffect(() => {\r\n    dispatch(listUsers());\r\n    dispatch({\r\n      type: USER_DETAILS_RESET,\r\n    });\r\n  }, [dispatch, successDelete]);\r\n  const deleteHandler = (user) => {\r\n    if (window.confirm('Are you sure?')) {\r\n      dispatch(deleteUser(user._id));\r\n    }\r\n  };\r\n  return (\r\n    <div>\r\n      <h1>Users</h1>\r\n      {loadingDelete && <LoadingBox></LoadingBox>}\r\n      {errorDelete && <MessageBox variant=\"danger\">{errorDelete}</MessageBox>}\r\n      {successDelete && (\r\n        <MessageBox variant=\"success\">User Deleted Successfully</MessageBox>\r\n      )}\r\n      {loading ? (\r\n        <LoadingBox></LoadingBox>\r\n      ) : error ? (\r\n        <MessageBox variant=\"danger\">{error}</MessageBox>\r\n      ) : (\r\n        <table className=\"table\">\r\n          <thead>\r\n            <tr>\r\n              <th>ID</th>\r\n              <th>NAME</th>\r\n              <th>EMAIL</th>\r\n              <th>IS SELLER</th>\r\n              <th>IS ADMIN</th>\r\n              <th>ACTIONS</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            {users.map((user) => (\r\n              <tr key={user._id}>\r\n                <td>{user._id}</td>\r\n                <td>{user.name}</td>\r\n                <td>{user.email}</td>\r\n                <td>{user.isSeller ? 'YES' : ' NO'}</td>\r\n                <td>{user.isAdmin ? 'YES' : 'NO'}</td>\r\n                <td>\r\n                  <button\r\n                    type=\"button\"\r\n                    className=\"small\"\r\n                    onClick={() => props.history.push(`/user/${user._id}/edit`)}\r\n                  >\r\n                    Edit\r\n                  </button>\r\n                  <button\r\n                    type=\"button\"\r\n                    className=\"small\"\r\n                    onClick={() => deleteHandler(user)}\r\n                  >\r\n                    Delete\r\n                  </button>\r\n                </td>\r\n              </tr>\r\n            ))}\r\n          </tbody>\r\n        </table>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport { useEffect } from 'react';\r\nimport { useState } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { detailsUser, updateUser } from '../actions/userActions';\r\nimport LoadingBox from '../components/LoadingBox';\r\nimport MessageBox from '../components/MessageBox';\r\nimport { USER_UPDATE_RESET } from '../constants/userConstants';\r\n\r\nexport default function UserEditScreen(props) {\r\n  const userId = props.match.params.id;\r\n  const [name, setName] = useState('');\r\n  const [email, setEmail] = useState('');\r\n  const [isSeller, setIsSeller] = useState(false);\r\n  const [isAdmin, setIsAdmin] = useState(false);\r\n\r\n  const userDetails = useSelector((state) => state.userDetails);\r\n  const { loading, error, user } = userDetails;\r\n\r\n  const userUpdate = useSelector((state) => state.userUpdate);\r\n  const {\r\n    loading: loadingUpdate,\r\n    error: errorUpdate,\r\n    success: successUpdate,\r\n  } = userUpdate;\r\n\r\n  const dispatch = useDispatch();\r\n  useEffect(() => {\r\n    if (successUpdate) {\r\n      dispatch({ type: USER_UPDATE_RESET });\r\n      props.history.push('/userlist');\r\n    }\r\n    if (!user) {\r\n      dispatch(detailsUser(userId));\r\n    } else {\r\n      setName(user.name);\r\n      setEmail(user.email);\r\n      setIsSeller(user.isSeller);\r\n      setIsAdmin(user.isAdmin);\r\n    }\r\n  }, [dispatch, props.history, successUpdate, user, userId]);\r\n\r\n  const submitHandler = (e) => {\r\n    e.preventDefault();\r\n    // dispatch update user\r\n    dispatch(updateUser({ _id: userId, name, email, isSeller, isAdmin }));\r\n  };\r\n  return (\r\n    <div>\r\n      <form className=\"form\" onSubmit={submitHandler}>\r\n        <div>\r\n          <h1>Edit User {name}</h1>\r\n          {loadingUpdate && <LoadingBox />}\r\n          {errorUpdate && (\r\n            <MessageBox variant=\"danger\">{errorUpdate}</MessageBox>\r\n          )}\r\n        </div>\r\n        {loading ? (\r\n          <LoadingBox />\r\n        ) : error ? (\r\n          <MessageBox variant=\"danger\">{error}</MessageBox>\r\n        ) : (\r\n          <>\r\n            <div>\r\n              <label htmlFor=\"name\">Name</label>\r\n              <input\r\n                id=\"name\"\r\n                type=\"text\"\r\n                placeholder=\"Enter name\"\r\n                value={name}\r\n                onChange={(e) => setName(e.target.value)}\r\n              ></input>\r\n            </div>\r\n            <div>\r\n              <label htmlFor=\"email\">Email</label>\r\n              <input\r\n                id=\"email\"\r\n                type=\"email\"\r\n                placeholder=\"Enter email\"\r\n                value={email}\r\n                onChange={(e) => setEmail(e.target.value)}\r\n              ></input>\r\n            </div>\r\n            <div>\r\n              <label htmlFor=\"isSeller\">Is Seller</label>\r\n              <input\r\n                id=\"isSeller\"\r\n                type=\"checkbox\"\r\n                checked={isSeller}\r\n                onChange={(e) => setIsSeller(e.target.checked)}\r\n              ></input>\r\n            </div>\r\n            <div>\r\n              <label htmlFor=\"isAdmin\">Is Admin</label>\r\n              <input\r\n                id=\"isAdmin\"\r\n                type=\"checkbox\"\r\n                checked={isAdmin}\r\n                onChange={(e) => setIsAdmin(e.target.checked)}\r\n              ></input>\r\n            </div>\r\n            <div>\r\n              <button type=\"submit\" className=\"primary\">\r\n                Update\r\n              </button>\r\n            </div>\r\n          </>\r\n        )}\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useEffect } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { listProducts } from '../actions/productActions';\r\nimport { detailsUser } from '../actions/userActions';\r\nimport LoadingBox from '../components/LoadingBox';\r\nimport MessageBox from '../components/MessageBox';\r\nimport Product from '../components/Product';\r\nimport Rating from '../components/Rating';\r\n\r\nexport default function SellerScreen(props) {\r\n  const sellerId = props.match.params.id;\r\n  const userDetails = useSelector((state) => state.userDetails);\r\n  const { loading, error, user } = userDetails;\r\n\r\n  const productList = useSelector((state) => state.productList);\r\n  const {\r\n    loading: loadingProducts,\r\n    error: errorProducts,\r\n    products,\r\n  } = productList;\r\n\r\n  const dispatch = useDispatch();\r\n  useEffect(() => {\r\n    dispatch(detailsUser(sellerId));\r\n    dispatch(listProducts({ seller: sellerId }));\r\n  }, [dispatch, sellerId]);\r\n  return (\r\n    <div className=\"row top\">\r\n      <div className=\"col-1\">\r\n        {loading ? (\r\n          <LoadingBox></LoadingBox>\r\n        ) : error ? (\r\n          <MessageBox variant=\"danger\">{error}</MessageBox>\r\n        ) : (\r\n          <ul className=\"card card-body\">\r\n            <li>\r\n              <div className=\"row start\">\r\n                <div className=\"p-1\">\r\n                  <img\r\n                    className=\"small\"\r\n                    src={user.seller.logo}\r\n                    alt={user.seller.name}\r\n                  ></img>\r\n                </div>\r\n                <div className=\"p-1\">\r\n                  <h1>{user.seller.name}</h1>\r\n                </div>\r\n              </div>\r\n            </li>\r\n            <li>\r\n              <Rating\r\n                rating={user.seller.rating}\r\n                numReviews={user.seller.numReviews}\r\n              ></Rating>\r\n            </li>\r\n            <li>\r\n              <a href={`mailto:${user.email}`}>Contact Seller</a>\r\n            </li>\r\n            <li>{user.seller.description}</li>\r\n          </ul>\r\n        )}\r\n      </div>\r\n      <div className=\"col-3\">\r\n        {loadingProducts ? (\r\n          <LoadingBox></LoadingBox>\r\n        ) : errorProducts ? (\r\n          <MessageBox variant=\"danger\">{errorProducts}</MessageBox>\r\n        ) : (\r\n          <>\r\n            {products.length === 0 && <MessageBox>No Product Found</MessageBox>}\r\n            <div className=\"row center\">\r\n              {products.map((product) => (\r\n                <Product key={product._id} product={product}></Product>\r\n              ))}\r\n            </div>\r\n          </>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","export const prices = [\r\n  {\r\n    name: 'Any',\r\n    min: 0,\r\n    max: 0,\r\n  },\r\n  {\r\n    name: `$1 to $10`,\r\n    min: 1,\r\n    max: 10,\r\n  },\r\n  {\r\n    name: `$10 to $100`,\r\n    min: 10,\r\n    max: 100,\r\n  },\r\n  {\r\n    name: `$100 to $1000`,\r\n    min: 100,\r\n    max: 1000,\r\n  },\r\n];\r\nexport const ratings = [\r\n  {\r\n    name: '4stars & up',\r\n    rating: 4,\r\n  },\r\n\r\n  {\r\n    name: '3stars & up',\r\n    rating: 3,\r\n  },\r\n\r\n  {\r\n    name: '2stars & up',\r\n    rating: 2,\r\n  },\r\n\r\n  {\r\n    name: '1stars & up',\r\n    rating: 1,\r\n  },\r\n];\r\n","import React, { useEffect } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { Link, useParams } from 'react-router-dom';\r\nimport { listProducts } from '../actions/productActions';\r\nimport LoadingBox from '../components/LoadingBox';\r\nimport MessageBox from '../components/MessageBox';\r\nimport Product from '../components/Product';\r\nimport Rating from '../components/Rating';\r\nimport { prices, ratings } from '../utils';\r\n\r\nexport default function SearchScreen(props) {\r\n  const {\r\n    name = 'all',\r\n    category = 'all',\r\n    min = 0,\r\n    max = 0,\r\n    rating = 0,\r\n    order = 'newest',\r\n    pageNumber = 1,\r\n  } = useParams();\r\n  const dispatch = useDispatch();\r\n  const productList = useSelector((state) => state.productList);\r\n  const { loading, error, products, page, pages } = productList;\r\n\r\n  const productCategoryList = useSelector((state) => state.productCategoryList);\r\n  const {\r\n    loading: loadingCategories,\r\n    error: errorCategories,\r\n    categories,\r\n  } = productCategoryList;\r\n  useEffect(() => {\r\n    dispatch(\r\n      listProducts({\r\n        pageNumber,\r\n        name: name !== 'all' ? name : '',\r\n        category: category !== 'all' ? category : '',\r\n        min,\r\n        max,\r\n        rating,\r\n        order,\r\n      })\r\n    );\r\n  }, [category, dispatch, max, min, name, order, rating, pageNumber]);\r\n\r\n  const getFilterUrl = (filter) => {\r\n    const filterPage = filter.page || pageNumber;\r\n    const filterCategory = filter.category || category;\r\n    const filterName = filter.name || name;\r\n    const filterRating = filter.rating || rating;\r\n    const sortOrder = filter.order || order;\r\n    const filterMin = filter.min ? filter.min : filter.min === 0 ? 0 : min;\r\n    const filterMax = filter.max ? filter.max : filter.max === 0 ? 0 : max;\r\n    return `/search/category/${filterCategory}/name/${filterName}/min/${filterMin}/max/${filterMax}/rating/${filterRating}/order/${sortOrder}/pageNumber/${filterPage}`;\r\n  };\r\n  return (\r\n    <div>\r\n      <div className=\"row\">\r\n        {loading ? (\r\n          <LoadingBox></LoadingBox>\r\n        ) : error ? (\r\n          <MessageBox variant=\"danger\">{error}</MessageBox>\r\n        ) : (\r\n          <div>{products.length} Results</div>\r\n        )}\r\n        <div>\r\n          Sort by{' '}\r\n          <select\r\n            value={order}\r\n            onChange={(e) => {\r\n              props.history.push(getFilterUrl({ order: e.target.value }));\r\n            }}\r\n          >\r\n            <option value=\"newest\">Newest Arrivals</option>\r\n            <option value=\"lowest\">Price: Low to High</option>\r\n            <option value=\"highest\">Price: High to Low</option>\r\n            <option value=\"toprated\">Avg. Customer Reviews</option>\r\n          </select>\r\n        </div>\r\n      </div>\r\n      <div className=\"row top\">\r\n        <div className=\"col-1\">\r\n          <h3>Department</h3>\r\n          <div>\r\n            {loadingCategories ? (\r\n              <LoadingBox></LoadingBox>\r\n            ) : errorCategories ? (\r\n              <MessageBox variant=\"danger\">{errorCategories}</MessageBox>\r\n            ) : (\r\n              <ul>\r\n                <li>\r\n                  <Link\r\n                    className={'all' === category ? 'active' : ''}\r\n                    to={getFilterUrl({ category: 'all' })}\r\n                  >\r\n                    Any\r\n                  </Link>\r\n                </li>\r\n                {categories.map((c) => (\r\n                  <li key={c}>\r\n                    <Link\r\n                      className={c === category ? 'active' : ''}\r\n                      to={getFilterUrl({ category: c })}\r\n                    >\r\n                      {c}\r\n                    </Link>\r\n                  </li>\r\n                ))}\r\n              </ul>\r\n            )}\r\n          </div>\r\n          <div>\r\n            <h3>Price</h3>\r\n            <ul>\r\n              {prices.map((p) => (\r\n                <li key={p.name}>\r\n                  <Link\r\n                    to={getFilterUrl({ min: p.min, max: p.max })}\r\n                    className={\r\n                      `${p.min}-${p.max}` === `${min}-${max}` ? 'active' : ''\r\n                    }\r\n                  >\r\n                    {p.name}\r\n                  </Link>\r\n                </li>\r\n              ))}\r\n            </ul>\r\n          </div>\r\n          <div>\r\n            <h3>Avg. Customer Review</h3>\r\n            <ul>\r\n              {ratings.map((r) => (\r\n                <li key={r.name}>\r\n                  <Link\r\n                    to={getFilterUrl({ rating: r.rating })}\r\n                    className={`${r.rating}` === `${rating}` ? 'active' : ''}\r\n                  >\r\n                    <Rating caption={' & up'} rating={r.rating}></Rating>\r\n                  </Link>\r\n                </li>\r\n              ))}\r\n            </ul>\r\n          </div>\r\n        </div>\r\n        <div className=\"col-3\">\r\n          {loading ? (\r\n            <LoadingBox></LoadingBox>\r\n          ) : error ? (\r\n            <MessageBox variant=\"danger\">{error}</MessageBox>\r\n          ) : (\r\n            <>\r\n              {products.length === 0 && (\r\n                <MessageBox>No Product Found</MessageBox>\r\n              )}\r\n              <div className=\"row center\">\r\n                {products.map((product) => (\r\n                  <Product key={product._id} product={product}></Product>\r\n                ))}\r\n              </div>\r\n              <div className=\"row center pagination\">\r\n                {[...Array(pages).keys()].map((x) => (\r\n                  <Link\r\n                    className={x + 1 === page ? 'active' : ''}\r\n                    key={x + 1}\r\n                    to={getFilterUrl({ page: x + 1 })}\r\n                  >\r\n                    {x + 1}\r\n                  </Link>\r\n                ))}\r\n              </div>\r\n            </>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useEffect, useRef, useState } from 'react';\r\nimport {\r\n  LoadScript,\r\n  GoogleMap,\r\n  StandaloneSearchBox,\r\n  Marker,\r\n} from '@react-google-maps/api';\r\nimport LoadingBox from '../components/LoadingBox';\r\nimport Axios from 'axios';\r\nimport { USER_ADDRESS_MAP_CONFIRM } from '../constants/userConstants';\r\nimport { useDispatch } from 'react-redux';\r\n\r\nconst libs = ['places'];\r\nconst defaultLocation = { lat: 45.516, lng: -73.56 };\r\n\r\nexport default function MapScreen(props) {\r\n  const [googleApiKey, setGoogleApiKey] = useState('');\r\n  const [center, setCenter] = useState(defaultLocation);\r\n  const [location, setLocation] = useState(center);\r\n\r\n  const mapRef = useRef(null);\r\n  const placeRef = useRef(null);\r\n  const markerRef = useRef(null);\r\n\r\n  useEffect(() => {\r\n    const fetch = async () => {\r\n      const { data } = await Axios('/api/config/google');\r\n      setGoogleApiKey(data);\r\n      getUserCurrentLocation();\r\n    };\r\n    fetch();\r\n  }, []);\r\n\r\n  const onLoad = (map) => {\r\n    mapRef.current = map;\r\n  };\r\n\r\n  const onMarkerLoad = (marker) => {\r\n    markerRef.current = marker;\r\n  };\r\n  const onLoadPlaces = (place) => {\r\n    placeRef.current = place;\r\n  };\r\n  const onIdle = () => {\r\n    setLocation({\r\n      lat: mapRef.current.center.lat(),\r\n      lng: mapRef.current.center.lng(),\r\n    });\r\n  };\r\n  const onPlacesChanged = () => {\r\n    const place = placeRef.current.getPlaces()[0].geometry.location;\r\n    setCenter({ lat: place.lat(), lng: place.lng() });\r\n    setLocation({ lat: place.lat(), lng: place.lng() });\r\n  };\r\n  const dispatch = useDispatch();\r\n  const onConfirm = () => {\r\n    const places = placeRef.current.getPlaces();\r\n    if (places && places.length === 1) {\r\n      // dispatch select action\r\n      dispatch({\r\n        type: USER_ADDRESS_MAP_CONFIRM,\r\n        payload: {\r\n          lat: location.lat,\r\n          lng: location.lng,\r\n          address: places[0].formatted_address,\r\n          name: places[0].name,\r\n          vicinity: places[0].vicinity,\r\n          googleAddressId: places[0].id,\r\n        },\r\n      });\r\n      alert('location selected successfully.');\r\n      props.history.push('/shipping');\r\n    } else {\r\n      alert('Please enter your address');\r\n    }\r\n  };\r\n\r\n  const getUserCurrentLocation = () => {\r\n    if (!navigator.geolocation) {\r\n      alert('Geolocation os not supported by this browser');\r\n    } else {\r\n      navigator.geolocation.getCurrentPosition((position) => {\r\n        setCenter({\r\n          lat: position.coords.latitude,\r\n          lng: position.coords.longitude,\r\n        });\r\n        setLocation({\r\n          lat: position.coords.latitude,\r\n          lng: position.coords.longitude,\r\n        });\r\n      });\r\n    }\r\n  };\r\n\r\n  return googleApiKey ? (\r\n    <div className=\"full-container\">\r\n      <LoadScript libraries={libs} googleMapsApiKey={googleApiKey}>\r\n        <GoogleMap\r\n          id=\"smaple-map\"\r\n          mapContainerStyle={{ height: '100%', width: '100%' }}\r\n          center={center}\r\n          zoom={15}\r\n          onLoad={onLoad}\r\n          onIdle={onIdle}\r\n        >\r\n          <StandaloneSearchBox\r\n            onLoad={onLoadPlaces}\r\n            onPlacesChanged={onPlacesChanged}\r\n          >\r\n            <div className=\"map-input-box\">\r\n              <input type=\"text\" placeholder=\"Enter your address\"></input>\r\n              <button type=\"button\" className=\"primary\" onClick={onConfirm}>\r\n                Confirm\r\n              </button>\r\n            </div>\r\n          </StandaloneSearchBox>\r\n          <Marker position={location} onLoad={onMarkerLoad}></Marker>\r\n        </GoogleMap>\r\n      </LoadScript>\r\n    </div>\r\n  ) : (\r\n    <LoadingBox></LoadingBox>\r\n  );\r\n}\r\n","import React, { useEffect } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport Chart from 'react-google-charts';\r\nimport { summaryOrder } from '../actions/orderActions';\r\nimport LoadingBox from '../components/LoadingBox';\r\nimport MessageBox from '../components/MessageBox';\r\n\r\nexport default function DashboardScreen() {\r\n  const orderSummary = useSelector((state) => state.orderSummary);\r\n  const { loading, summary, error } = orderSummary;\r\n  const dispatch = useDispatch();\r\n  useEffect(() => {\r\n    dispatch(summaryOrder());\r\n  }, [dispatch]);\r\n  return (\r\n    <div>\r\n      <div className=\"row\">\r\n        <h1>Dashboard</h1>\r\n      </div>\r\n      {loading ? (\r\n        <LoadingBox />\r\n      ) : error ? (\r\n        <MessageBox variant=\"danger\">{error}</MessageBox>\r\n      ) : (\r\n        <>\r\n          <ul className=\"row summary\">\r\n            <li>\r\n              <div className=\"summary-title color1\">\r\n                <span>\r\n                  <i className=\"fa fa-users\" /> Users\r\n                </span>\r\n              </div>\r\n              <div className=\"summary-body\">{summary.users[0].numUsers}</div>\r\n            </li>\r\n            <li>\r\n              <div className=\"summary-title color2\">\r\n                <span>\r\n                  <i className=\"fa fa-shopping-cart\" /> Orders\r\n                </span>\r\n              </div>\r\n              <div className=\"summary-body\">\r\n                {summary.orders[0] ? summary.orders[0].numOrders : 0}\r\n              </div>\r\n            </li>\r\n            <li>\r\n              <div className=\"summary-title color3\">\r\n                <span>\r\n                  <i className=\"fa fa-money\" /> Sales\r\n                </span>\r\n              </div>\r\n              <div className=\"summary-body\">\r\n                $\r\n                {summary.orders[0]\r\n                  ? summary.orders[0].totalSales.toFixed(2)\r\n                  : 0}\r\n              </div>\r\n            </li>\r\n          </ul>\r\n          <div>\r\n            <div>\r\n              <h2>Sales</h2>\r\n              {summary.dailyOrders.length === 0 ? (\r\n                <MessageBox>No Sale</MessageBox>\r\n              ) : (\r\n                <Chart\r\n                  width=\"100%\"\r\n                  height=\"400px\"\r\n                  chartType=\"AreaChart\"\r\n                  loader={<div>Loading Chart</div>}\r\n                  data={[\r\n                    ['Date', 'Sales'],\r\n                    ...summary.dailyOrders.map((x) => [x._id, x.sales]),\r\n                  ]}\r\n                ></Chart>\r\n              )}\r\n            </div>\r\n          </div>\r\n          <div>\r\n            <h2>Categories</h2>\r\n            {summary.productCategories.length === 0 ? (\r\n              <MessageBox>No Category</MessageBox>\r\n            ) : (\r\n              <Chart\r\n                width=\"100%\"\r\n                height=\"400px\"\r\n                chartType=\"PieChart\"\r\n                loader={<div>Loading Chart</div>}\r\n                data={[\r\n                  ['Category', 'Products'],\r\n                  ...summary.productCategories.map((x) => [x._id, x.count]),\r\n                ]}\r\n              />\r\n            )}\r\n          </div>\r\n        </>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n","import React, { useEffect, useRef, useState } from 'react';\r\nimport socketIOClient from 'socket.io-client';\r\nimport { useSelector } from 'react-redux';\r\nimport MessageBox from '../components/MessageBox';\r\n\r\nlet allUsers = [];\r\nlet allMessages = [];\r\nlet allSelectedUser = {};\r\nconst ENDPOINT =\r\n  window.location.host.indexOf('localhost') >= 0\r\n    ? 'http://127.0.0.1:5000'\r\n    : window.location.host;\r\n\r\nexport default function SupportScreen() {\r\n  const [selectedUser, setSelectedUser] = useState({});\r\n  const [socket, setSocket] = useState(null);\r\n  const uiMessagesRef = useRef(null);\r\n  const [messageBody, setMessageBody] = useState('');\r\n  const [messages, setMessages] = useState([]);\r\n  const [users, setUsers] = useState([]);\r\n  const userSignin = useSelector((state) => state.userSignin);\r\n  const { userInfo } = userSignin;\r\n\r\n  useEffect(() => {\r\n    if (uiMessagesRef.current) {\r\n      uiMessagesRef.current.scrollBy({\r\n        top: uiMessagesRef.current.clientHeight,\r\n        left: 0,\r\n        behavior: 'smooth',\r\n      });\r\n    }\r\n\r\n    if (!socket) {\r\n      const sk = socketIOClient(ENDPOINT);\r\n      setSocket(sk);\r\n      sk.emit('onLogin', {\r\n        _id: userInfo._id,\r\n        name: userInfo.name,\r\n        isAdmin: userInfo.isAdmin,\r\n      });\r\n      sk.on('message', (data) => {\r\n        if (allSelectedUser._id === data._id) {\r\n          allMessages = [...allMessages, data];\r\n        } else {\r\n          const existUser = allUsers.find((user) => user._id === data._id);\r\n          if (existUser) {\r\n            allUsers = allUsers.map((user) =>\r\n              user._id === existUser._id ? { ...user, unread: true } : user\r\n            );\r\n            setUsers(allUsers);\r\n          }\r\n        }\r\n        setMessages(allMessages);\r\n      });\r\n      sk.on('updateUser', (updatedUser) => {\r\n        const existUser = allUsers.find((user) => user._id === updatedUser._id);\r\n        if (existUser) {\r\n          allUsers = allUsers.map((user) =>\r\n            user._id === existUser._id ? updatedUser : user\r\n          );\r\n          setUsers(allUsers);\r\n        } else {\r\n          allUsers = [...allUsers, updatedUser];\r\n          setUsers(allUsers);\r\n        }\r\n      });\r\n      sk.on('listUsers', (updatedUsers) => {\r\n        allUsers = updatedUsers;\r\n        setUsers(allUsers);\r\n      });\r\n      sk.on('selectUser', (user) => {\r\n        allMessages = user.messages;\r\n        setMessages(allMessages);\r\n      });\r\n    }\r\n  }, [messages, socket, users, userInfo]);\r\n\r\n  const selectUser = (user) => {\r\n    allSelectedUser = user;\r\n    setSelectedUser(allSelectedUser);\r\n    const existUser = allUsers.find((x) => x._id === user._id);\r\n    if (existUser) {\r\n      allUsers = allUsers.map((x) =>\r\n        x._id === existUser._id ? { ...x, unread: false } : x\r\n      );\r\n      setUsers(allUsers);\r\n    }\r\n    socket.emit('onUserSelected', user);\r\n  };\r\n\r\n  const submitHandler = (e) => {\r\n    e.preventDefault();\r\n    if (!messageBody.trim()) {\r\n      alert('Error. Please type message.');\r\n    } else {\r\n      allMessages = [\r\n        ...allMessages,\r\n        { body: messageBody, name: userInfo.name },\r\n      ];\r\n      setMessages(allMessages);\r\n      setMessageBody('');\r\n      setTimeout(() => {\r\n        socket.emit('onMessage', {\r\n          body: messageBody,\r\n          name: userInfo.name,\r\n          isAdmin: userInfo.isAdmin,\r\n          _id: selectedUser._id,\r\n        });\r\n      }, 1000);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"row top full-container\">\r\n      <div className=\"col-1 support-users\">\r\n        {users.filter((x) => x._id !== userInfo._id).length === 0 && (\r\n          <MessageBox>No Online User Found</MessageBox>\r\n        )}\r\n        <ul>\r\n          {users\r\n            .filter((x) => x._id !== userInfo._id)\r\n            .map((user) => (\r\n              <li\r\n                key={user._id}\r\n                className={user._id === selectedUser._id ? '  selected' : '  '}\r\n              >\r\n                <button\r\n                  className=\"block\"\r\n                  type=\"button\"\r\n                  onClick={() => selectUser(user)}\r\n                >\r\n                  {user.name}\r\n                </button>\r\n                <span\r\n                  className={\r\n                    user.unread ? 'unread' : user.online ? 'online' : 'offline'\r\n                  }\r\n                />\r\n              </li>\r\n            ))}\r\n        </ul>\r\n      </div>\r\n      <div className=\"col-3 support-messages\">\r\n        {!selectedUser._id ? (\r\n          <MessageBox>Select a user to start chat</MessageBox>\r\n        ) : (\r\n          <div>\r\n            <div className=\"row\">\r\n              <strong>Chat with {selectedUser.name} </strong>\r\n            </div>\r\n            <ul ref={uiMessagesRef}>\r\n              {messages.length === 0 && <li>No message.</li>}\r\n              {messages.map((msg, index) => (\r\n                <li key={index}>\r\n                  <strong>{`${msg.name}: `}</strong> {msg.body}\r\n                </li>\r\n              ))}\r\n            </ul>\r\n            <div>\r\n              <form onSubmit={submitHandler} className=\"row\">\r\n                <input\r\n                  value={messageBody}\r\n                  onChange={(e) => setMessageBody(e.target.value)}\r\n                  type=\"text\"\r\n                  placeholder=\"type message\"\r\n                />\r\n                <button type=\"submit\">Send</button>\r\n              </form>\r\n            </div>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport { useSelector } from 'react-redux';\r\nimport { Redirect, Route } from 'react-router-dom';\r\n\r\nexport default function PrivateRoute({ component: Component, ...rest }) {\r\n  const userSignin = useSelector((state) => state.userSignin);\r\n  const { userInfo } = userSignin;\r\n  return (\r\n    <Route\r\n      {...rest}\r\n      render={(props) =>\r\n        userInfo ? (\r\n          <Component {...props}></Component>\r\n        ) : (\r\n          <Redirect to=\"/signin\" />\r\n        )\r\n      }\r\n    ></Route>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport { useSelector } from 'react-redux';\r\nimport { Redirect, Route } from 'react-router-dom';\r\n\r\nexport default function AdminRoute({ component: Component, ...rest }) {\r\n  const userSignin = useSelector((state) => state.userSignin);\r\n  const { userInfo } = userSignin;\r\n  return (\r\n    <Route\r\n      {...rest}\r\n      render={(props) =>\r\n        userInfo && userInfo.isAdmin ? (\r\n          <Component {...props}></Component>\r\n        ) : (\r\n          <Redirect to=\"/signin\" />\r\n        )\r\n      }\r\n    />\r\n  );\r\n}\r\n","import React from 'react';\r\nimport { useSelector } from 'react-redux';\r\nimport { Redirect, Route } from 'react-router-dom';\r\n\r\nexport default function SellerRoute({ component: Component, ...rest }) {\r\n  const userSignin = useSelector((state) => state.userSignin);\r\n  const { userInfo } = userSignin;\r\n  return (\r\n    <Route\r\n      {...rest}\r\n      render={(props) =>\r\n        userInfo && userInfo.isSeller ? (\r\n          <Component {...props}></Component>\r\n        ) : (\r\n          <Redirect to=\"/signin\" />\r\n        )\r\n      }\r\n    ></Route>\r\n  );\r\n}\r\n","import React, { useEffect } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { Link } from 'react-router-dom';\r\nimport { addToCart, removeFromCart } from '../actions/cartActions';\r\nimport MessageBox from '../components/MessageBox';\r\n\r\nexport default function CartScreen(props) {\r\n  const productId = props.match.params.id;\r\n  const qty = props.location.search\r\n    ? Number(props.location.search.split('=')[1])\r\n    : 1;\r\n  const cart = useSelector((state) => state.cart);\r\n  const { cartItems, error } = cart;\r\n  const dispatch = useDispatch();\r\n  useEffect(() => {\r\n    if (productId) {\r\n      dispatch(addToCart(productId, qty));\r\n    }\r\n  }, [dispatch, productId, qty]);\r\n\r\n  const removeFromCartHandler = (id) => {\r\n    // delete action\r\n    dispatch(removeFromCart(id));\r\n  };\r\n\r\n  const checkoutHandler = () => {\r\n    props.history.push('/signin?redirect=shipping');\r\n  };\r\n  return (\r\n    <div className=\"cart-header\">\r\n      <div className=\"items-cart\">\r\n        <h1>Shopping Cart</h1>\r\n        {error && <MessageBox variant=\"danger\">{error}</MessageBox>}\r\n        {cartItems.length === 0 ? (\r\n          <MessageBox>\r\n            Cart is empty. <Link to=\"/\">Go Shopping</Link>\r\n          </MessageBox>\r\n        ) : (\r\n          <ul>\r\n            {cartItems.map((item) => (\r\n              <li key={item.product}>\r\n                <div className=\"row\">\r\n                  <div>\r\n                    <img\r\n                      src={item.image}\r\n                      alt={item.name}\r\n                      className=\"small\"\r\n                    ></img>\r\n                  </div>\r\n                  <div className=\"min-30\">\r\n                    <Link to={`/product/${item.product}`}>{item.name}</Link>\r\n                  </div>\r\n                  <div>\r\n                    <select\r\n                      value={item.qty}\r\n                      onChange={(e) =>\r\n                        dispatch(\r\n                          addToCart(item.product, Number(e.target.value))\r\n                        )\r\n                      }\r\n                    >\r\n                      {[...Array(item.countInStock).keys()].map((x) => (\r\n                        <option key={x + 1} value={x + 1}>\r\n                          {x + 1}\r\n                        </option>\r\n                      ))}\r\n                    </select>\r\n                  </div>\r\n                  <div>${item.price}</div>\r\n                  <div>\r\n                    <button\r\n                      type=\"button\"\r\n                      onClick={() => removeFromCartHandler(item.product)}\r\n                    >\r\n                      Delete\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n              </li>\r\n            ))}\r\n          </ul>\r\n        )}\r\n      </div>\r\n      <div className=\"total-items\">\r\n        <div className=\"card card-body\">\r\n          <ul>\r\n            <li>\r\n              <h2>\r\n                Subtotal ({cartItems.reduce((a, c) => a + c.qty, 0)} items) : $\r\n                {cartItems.reduce((a, c) => a + c.price * c.qty, 0)}\r\n              </h2>\r\n            </li>\r\n            <li>\r\n              <button\r\n                type=\"button\"\r\n                onClick={checkoutHandler}\r\n                className=\"primary block\"\r\n                disabled={cartItems.length === 0}\r\n              >\r\n                Proceed to Checkout\r\n              </button>\r\n            </li>\r\n          </ul>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import Axios from 'axios';\r\nimport React, { useCallback, useEffect, useState } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { Link } from 'react-router-dom';\r\nimport { deliverOrder, detailsOrder, payOrder } from '../actions/orderActions';\r\nimport LoadingBox from '../components/LoadingBox';\r\nimport MessageBox from '../components/MessageBox';\r\nimport { ORDER_DELIVER_RESET, ORDER_PAY_RESET, } from '../constants/orderConstants';\r\n\r\nexport default function OrderScreen(props) {\r\n    const orderId = props.match.params.id;\r\n    const [sdkReady, setSdkReady] = useState(false);\r\n    const orderDetails = useSelector((state) => state.orderDetails);\r\n    const { order, loading, error } = orderDetails;\r\n    const userSignin = useSelector((state) => state.userSignin);\r\n\r\n    const { userInfo } = userSignin;\r\n\r\n    const orderPay = useSelector((state) => state.orderPay);\r\n\r\n    const { loading: loadingPay, error: errorPay, success: successPay, } = orderPay;\r\n\r\n    const orderDeliver = useSelector((state) => state.orderDeliver);\r\n\r\n    const { loading: loadingDeliver, error: errorDeliver, success: successDeliver, } = orderDeliver;\r\n\r\n    const dispatch = useDispatch();\r\n\r\n\r\n    function isDate(val) {\r\n        // Cross realm comptatible\r\n        return Object.prototype.toString.call(val) === '[object Date]'\r\n    }\r\n\r\n    function isObj(val) {\r\n        return typeof val === 'object'\r\n    }\r\n\r\n    function stringifyValue(val) {\r\n        if (isObj(val) && !isDate(val)) {\r\n            return JSON.stringify(val)\r\n        } else {\r\n            return val\r\n        }\r\n    }\r\n\r\n    function buildForm({ action, params }) {\r\n        const form = document.createElement('form')\r\n        form.setAttribute('method', 'post')\r\n        form.setAttribute('action', action)\r\n\r\n        Object.keys(params).forEach(key => {\r\n            const input = document.createElement('input')\r\n            input.setAttribute('type', 'hidden')\r\n            input.setAttribute('name', key)\r\n            input.setAttribute('value', stringifyValue(params[key]))\r\n            form.appendChild(input)\r\n        })\r\n\r\n        return form\r\n    }\r\n\r\n    function post(details) {\r\n        const form = buildForm(details)\r\n        document.body.appendChild(form)\r\n        form.submit()\r\n        form.remove()\r\n    }\r\n\r\n\r\n    async function paymentHandeler() {\r\n        try {\r\n            let { data } = await Axios.post(`/api/config/paytm`, { amount: order.totalPrice.toFixed(2), email: userInfo.email, orderid: orderId, })\r\n\r\n            var information = {\r\n                action: \"https://securegw-stage.paytm.in/order/process\",\r\n                params: data\r\n            }\r\n            console.log(information);\r\n            post(information)\r\n        } catch (error) {\r\n            console.log(error);\r\n        }\r\n    }\r\n\r\n\r\n    useEffect(() => {\r\n        if (!order || successPay || successDeliver || (order?._id !== orderId)) {\r\n            dispatch({ type: ORDER_PAY_RESET });\r\n            dispatch({ type: ORDER_DELIVER_RESET });\r\n            dispatch(detailsOrder(orderId));\r\n        }\r\n        if (!order?.isPaid) {\r\n            successPaymentHandler({\r\n                id: props.match.id,\r\n                status: props.match.STATUS,\r\n                update_time: props.match.TXNDATE,\r\n                email_address: userInfo.email,\r\n            })\r\n        }\r\n    }, [order, loadingPay]);\r\n\r\n    const successPaymentHandler = (paymentResult) => {\r\n        dispatch(payOrder(order, paymentResult));\r\n    };\r\n    const deliverHandler = () => {\r\n        dispatch(deliverOrder(order._id));\r\n\r\n    };\r\n\r\n\r\n    return loading ? (\r\n        <LoadingBox></LoadingBox>\r\n    ) : error ? (\r\n        <MessageBox variant=\"danger\">{error}</MessageBox>\r\n    ) : (\r\n        <div>\r\n            <h1>Order {order._id}</h1>\r\n            <div className=\"row top\">\r\n                <div className=\"col-2\">\r\n                    <ul>\r\n                        <li>\r\n                            <div className=\"card card-body\">\r\n                                <h2>Shippring</h2>\r\n                                <p>\r\n                                    <strong>Name:</strong> {order.shippingAddress.fullName} <br />\r\n                                    <strong>Address: </strong> {order.shippingAddress.address},\r\n                                    {order.shippingAddress.city},{' '}\r\n                                    {order.shippingAddress.postalCode},\r\n                                    {order.shippingAddress.country}\r\n                                </p>\r\n                                {order.isDelivered ? (\r\n                                    <MessageBox variant=\"success\">\r\n                                        Delivered at {order.deliveredAt}\r\n                                    </MessageBox>\r\n                                ) : (\r\n                                    <MessageBox variant=\"danger\">Not Delivered</MessageBox>\r\n                                )}\r\n                            </div>\r\n                        </li>\r\n                        <li>\r\n                            <div className=\"card card-body\">\r\n                                <h2>Payment</h2>\r\n                                <p>\r\n                                    <strong>Method:</strong> {order.paymentMethod}\r\n                                </p>\r\n                                {order.isPaid ? (\r\n                                    <MessageBox variant=\"success\">\r\n                                        Paid at {order.paidAt}\r\n                                    </MessageBox>\r\n                                ) : (\r\n                                    <MessageBox variant=\"danger\">Not Paid</MessageBox>\r\n                                )}\r\n                            </div>\r\n                        </li>\r\n                        <li>\r\n                            <div className=\"card card-body\">\r\n                                <h2>Order Items</h2>\r\n                                <ul>\r\n                                    {order.orderItems.map((item) => (\r\n                                        <li key={item.product}>\r\n                                            <div className=\"row\">\r\n                                                <div>\r\n                                                    <img\r\n                                                        src={item.image}\r\n                                                        alt={item.name}\r\n                                                        className=\"small\" />\r\n                                                </div>\r\n                                                <div className=\"min-30\">\r\n                                                    <Link to={`/product/${item.product}`}>\r\n                                                        {item.name}\r\n                                                    </Link>\r\n                                                </div>\r\n\r\n                                                <div>\r\n                                                    {item.qty} x ${item.price} = ${item.qty * item.price}\r\n                                                </div>\r\n                                            </div>\r\n                                        </li>\r\n                                    ))}\r\n                                </ul>\r\n                            </div>\r\n                        </li>\r\n                    </ul>\r\n                </div>\r\n                <div className=\"col-1\">\r\n                    <div className=\"card card-body\">\r\n                        <ul>\r\n                            <li>\r\n                                <h2>Order Summary</h2>\r\n                            </li>\r\n                            <li>\r\n                                <div className=\"row\">\r\n                                    <div>Items</div>\r\n                                    <div>${order.itemsPrice.toFixed(2)}</div>\r\n                                </div>\r\n                            </li>\r\n                            <li>\r\n                                <div className=\"row\">\r\n                                    <div>Shipping</div>\r\n                                    <div>${order.shippingPrice.toFixed(2)}</div>\r\n                                </div>\r\n                            </li>\r\n                            <li>\r\n                                <div className=\"row\">\r\n                                    <div>Tax</div>\r\n                                    <div>${order.taxPrice.toFixed(2)}</div>\r\n                                </div>\r\n                            </li>\r\n                            <li>\r\n                                <div className=\"row\">\r\n                                    <div>\r\n                                        <strong> Order Total</strong>\r\n                                    </div>\r\n                                    <div>\r\n                                        <strong>${order.totalPrice.toFixed(2)}</strong>\r\n                                    </div>\r\n                                </div>\r\n                            </li>\r\n                            {!order.isPaid && (\r\n                                <li>\r\n                                    <button onClick={paymentHandeler}>Pay Using Paytm</button>\r\n                                </li>\r\n                            )}\r\n                            {userInfo.isAdmin && order.isPaid && !order.isDelivered && (\r\n                                <li>\r\n                                    {loadingDeliver && <LoadingBox />}\r\n                                    {errorDeliver && (\r\n                                        <MessageBox variant=\"danger\">{errorDeliver}</MessageBox>\r\n                                    )}\r\n                                    <button\r\n                                        type=\"button\"\r\n                                        className=\"block primary\"\r\n                                        onClick={deliverHandler}\r\n                                    >\r\n                                        Deliver Order\r\n                                    </button>\r\n                                </li>\r\n                            )}\r\n                        </ul>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}","import React from 'react'\r\nimport HomeScreen from '../screens/HomeScreen';\r\nimport OrderHistoryScreen from '../screens/OrderHistoryScreen';\r\nimport OrderScreen from '../screens/OrderScreen';\r\nimport PaymentMethodScreen from '../screens/PaymentMethodScreen';\r\nimport PlaceOrderScreen from '../screens/PlaceOrderScreen';\r\nimport ProductListScreen from '../screens/ProductListScreen';\r\nimport ProductScreen from '../screens/ProductScreen';\r\nimport ProfileScreen from '../screens/ProfileScreen';\r\nimport RegisterScreen from '../screens/RegisterScreen';\r\nimport ShippingAddressScreen from '../screens/ShippingAddressScreen';\r\nimport SigninScreen from '../screens/SigninScreen';\r\nimport ProductEditScreen from '../screens/ProductEditScreen';\r\nimport OrderListScreen from '../screens/OrderListScreen';\r\nimport UserListScreen from '../screens/UserListScreen';\r\nimport UserEditScreen from '../screens/UserEditScreen';\r\nimport SellerScreen from '../screens/SellerScreen';\r\nimport SearchScreen from '../screens/SearchScreen';\r\nimport { Route } from 'react-router';\r\nimport MapScreen from '../screens/MapScreen';\r\nimport DashboardScreen from '../screens/DashboardScreen';\r\nimport SupportScreen from '../screens/SupportScreen';\r\nimport PrivateRoute from './PrivateRoute';\r\nimport AdminRoute from './AdminRoute';\r\nimport SellerRoute from './SellerRoute';\r\nimport CartScreen from '../screens/CartScreen';\r\nimport OrderSucess from '../screens/OrderSucess';\r\n\r\nexport default function AllRouts() {\r\n    return (\r\n        <>\r\n            <Route path=\"/seller/:id\" component={SellerScreen} />\r\n            <Route path=\"/cart/:id?\" component={CartScreen} />\r\n            <Route path=\"/product/:id\" component={ProductScreen} exact />\r\n            <Route path=\"/product/:id/edit\" component={ProductEditScreen} exact />\r\n            <Route path=\"/signin\" component={SigninScreen} />\r\n            <Route path=\"/register\" component={RegisterScreen} />\r\n            <Route path=\"/shipping\" component={ShippingAddressScreen} />\r\n            <Route path=\"/payment\" component={PaymentMethodScreen} />\r\n            <Route path=\"/placeorder\" component={PlaceOrderScreen} />\r\n            <Route path=\"/order/:id\" component={OrderScreen} />\r\n            <Route path=\"/ordersucess/:id/:TXNID/:TXNDATE/:RESPMSG\" component={OrderSucess} />\r\n            <Route path=\"/orderhistory\" component={OrderHistoryScreen} />\r\n            {/* <Route path=\"/paymentcallback/callback\" component={AfterPayment} /> */}\r\n\r\n            <Route path=\"/search/name/:name?\" component={SearchScreen} exact />\r\n            <Route path=\"/search/category/:category\" component={SearchScreen} exact />\r\n            <Route path=\"/search/category/:category/name/:name\" component={SearchScreen} exact />\r\n            <Route path=\"/search/category/:category/name/:name/min/:min/max/:max/rating/:rating/order/:order/pageNumber/:pageNumber\" component={SearchScreen} exact />\r\n\r\n            <PrivateRoute path=\"/profile\" component={ProfileScreen} />\r\n            <PrivateRoute path=\"/map\" component={MapScreen} />\r\n\r\n            <AdminRoute path=\"/productlist\" component={ProductListScreen} exact />\r\n            <AdminRoute path=\"/productlist/pageNumber/:pageNumber\" component={ProductListScreen} exact />\r\n            <AdminRoute path=\"/orderlist\" component={OrderListScreen} exact />\r\n            <AdminRoute path=\"/userlist\" component={UserListScreen} />\r\n            <AdminRoute path=\"/user/:id/edit\" component={UserEditScreen} />\r\n            <AdminRoute path=\"/dashboard\" component={DashboardScreen} />\r\n            <AdminRoute path=\"/support\" component={SupportScreen} />\r\n\r\n            <SellerRoute path=\"/productlist/seller\" component={ProductListScreen} />\r\n            <SellerRoute path=\"/orderlist/seller\" component={OrderListScreen} />\r\n\r\n            <Route path=\"/\" component={HomeScreen} exact />\r\n        </>\r\n    )\r\n}\r\n","import React, { useEffect, useState } from 'react';\r\nimport { useDispatch } from 'react-redux';\r\nimport { BrowserRouter } from 'react-router-dom';\r\nimport Footer from './components/Footer';\r\nimport Header from './components/Header';\r\nimport AllRouts from './components/AllRouts';\r\nimport { listProductCategories } from './actions/productActions';\r\n\r\nfunction App() {\r\n  const [sidebarIsOpen, setSidebarIsOpen] = useState(false);\r\n  const dispatch = useDispatch();\r\n  useEffect(() => {\r\n    dispatch(listProductCategories());\r\n  }, [dispatch]);\r\n  return (\r\n    <BrowserRouter>\r\n      <div className=\"grid-container\">\r\n        <Header\r\n          setSidebarIsOpen={setSidebarIsOpen}\r\n          sidebarIsOpen={sidebarIsOpen} />\r\n        <main><AllRouts /> </main>\r\n        <Footer />\r\n      </div>\r\n    </BrowserRouter>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","const {\r\n  PRODUCT_LIST_REQUEST,\r\n  PRODUCT_LIST_SUCCESS,\r\n  PRODUCT_LIST_FAIL,\r\n  PRODUCT_DETAILS_REQUEST,\r\n  PRODUCT_DETAILS_SUCCESS,\r\n  PRODUCT_DETAILS_FAIL,\r\n  PRODUCT_CREATE_REQUEST,\r\n  PRODUCT_CREATE_SUCCESS,\r\n  PRODUCT_CREATE_FAIL,\r\n  PRODUCT_CREATE_RESET,\r\n  PRODUCT_UPDATE_REQUEST,\r\n  PRODUCT_UPDATE_SUCCESS,\r\n  PRODUCT_UPDATE_FAIL,\r\n  PRODUCT_UPDATE_RESET,\r\n  PRODUCT_DELETE_REQUEST,\r\n  PRODUCT_DELETE_SUCCESS,\r\n  PRODUCT_DELETE_FAIL,\r\n  PRODUCT_DELETE_RESET,\r\n  PRODUCT_CATEGORY_LIST_REQUEST,\r\n  PRODUCT_CATEGORY_LIST_SUCCESS,\r\n  PRODUCT_CATEGORY_LIST_FAIL,\r\n  PRODUCT_REVIEW_CREATE_REQUEST,\r\n  PRODUCT_REVIEW_CREATE_SUCCESS,\r\n  PRODUCT_REVIEW_CREATE_FAIL,\r\n  PRODUCT_REVIEW_CREATE_RESET,\r\n} = require('../constants/productConstants');\r\n\r\nexport const productListReducer = (\r\n  state = { loading: true, products: [] },\r\n  action\r\n) => {\r\n  switch (action.type) {\r\n    case PRODUCT_LIST_REQUEST:\r\n      return { loading: true };\r\n    case PRODUCT_LIST_SUCCESS:\r\n      return {\r\n        loading: false,\r\n        products: action.payload.products,\r\n        pages: action.payload.pages,\r\n        page: action.payload.page,\r\n      };\r\n    case PRODUCT_LIST_FAIL:\r\n      return { loading: false, error: action.payload };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport const productCategoryListReducer = (\r\n  state = { loading: true, products: [] },\r\n  action\r\n) => {\r\n  switch (action.type) {\r\n    case PRODUCT_CATEGORY_LIST_REQUEST:\r\n      return { loading: true };\r\n    case PRODUCT_CATEGORY_LIST_SUCCESS:\r\n      return { loading: false, categories: action.payload };\r\n    case PRODUCT_CATEGORY_LIST_FAIL:\r\n      return { loading: false, error: action.payload };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport const productDetailsReducer = (state = { loading: true }, action) => {\r\n  switch (action.type) {\r\n    case PRODUCT_DETAILS_REQUEST:\r\n      return { loading: true };\r\n    case PRODUCT_DETAILS_SUCCESS:\r\n      return { loading: false, product: action.payload };\r\n    case PRODUCT_DETAILS_FAIL:\r\n      return { loading: false, error: action.payload };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\nexport const productCreateReducer = (state = {}, action) => {\r\n  switch (action.type) {\r\n    case PRODUCT_CREATE_REQUEST:\r\n      return { loading: true };\r\n    case PRODUCT_CREATE_SUCCESS:\r\n      return { loading: false, success: true, product: action.payload };\r\n    case PRODUCT_CREATE_FAIL:\r\n      return { loading: false, error: action.payload };\r\n    case PRODUCT_CREATE_RESET:\r\n      return {};\r\n    default:\r\n      return state;\r\n  }\r\n};\r\nexport const productUpdateReducer = (state = {}, action) => {\r\n  switch (action.type) {\r\n    case PRODUCT_UPDATE_REQUEST:\r\n      return { loading: true };\r\n    case PRODUCT_UPDATE_SUCCESS:\r\n      return { loading: false, success: true };\r\n    case PRODUCT_UPDATE_FAIL:\r\n      return { loading: false, error: action.payload };\r\n    case PRODUCT_UPDATE_RESET:\r\n      return {};\r\n    default:\r\n      return state;\r\n  }\r\n};\r\nexport const productDeleteReducer = (state = {}, action) => {\r\n  switch (action.type) {\r\n    case PRODUCT_DELETE_REQUEST:\r\n      return { loading: true };\r\n    case PRODUCT_DELETE_SUCCESS:\r\n      return { loading: false, success: true };\r\n    case PRODUCT_DELETE_FAIL:\r\n      return { loading: false, error: action.payload };\r\n    case PRODUCT_DELETE_RESET:\r\n      return {};\r\n    default:\r\n      return state;\r\n  }\r\n};\r\nexport const productReviewCreateReducer = (state = {}, action) => {\r\n  switch (action.type) {\r\n    case PRODUCT_REVIEW_CREATE_REQUEST:\r\n      return { loading: true };\r\n    case PRODUCT_REVIEW_CREATE_SUCCESS:\r\n      return { loading: false, success: true, review: action.payload };\r\n    case PRODUCT_REVIEW_CREATE_FAIL:\r\n      return { loading: false, error: action.payload };\r\n    case PRODUCT_REVIEW_CREATE_RESET:\r\n      return {};\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import { createStore, compose, applyMiddleware, combineReducers } from 'redux';\r\nimport thunk from 'redux-thunk';\r\nimport { cartReducer } from './reducers/cartReducers';\r\nimport {\r\n  orderCreateReducer,\r\n  orderDeleteReducer,\r\n  orderDeliverReducer,\r\n  orderDetailsReducer,\r\n  orderListReducer,\r\n  orderMineListReducer,\r\n  orderPayReducer,\r\n  orderSummaryReducer,\r\n} from './reducers/orderReducers';\r\nimport {\r\n  productCategoryListReducer,\r\n  productCreateReducer,\r\n  productDeleteReducer,\r\n  productDetailsReducer,\r\n  productListReducer,\r\n  productReviewCreateReducer,\r\n  productUpdateReducer,\r\n} from './reducers/productReducers';\r\nimport {\r\n  userAddressMapReducer,\r\n  userDeleteReducer,\r\n  userDetailsReducer,\r\n  userListReducer,\r\n  userRegisterReducer,\r\n  userSigninReducer,\r\n  userTopSellerListReducer,\r\n  userUpdateProfileReducer,\r\n  userUpdateReducer,\r\n} from './reducers/userReducers';\r\n\r\nconst initialState = {\r\n  userSignin: {\r\n    userInfo: localStorage.getItem('userInfo')\r\n      ? JSON.parse(localStorage.getItem('userInfo'))\r\n      : null,\r\n  },\r\n  cart: {\r\n    cartItems: localStorage.getItem('cartItems')\r\n      ? JSON.parse(localStorage.getItem('cartItems'))\r\n      : [],\r\n    shippingAddress: localStorage.getItem('shippingAddress')\r\n      ? JSON.parse(localStorage.getItem('shippingAddress'))\r\n      : {},\r\n    paymentMethod: 'PayPal',\r\n  },\r\n};\r\nconst reducer = combineReducers({\r\n  productList: productListReducer,\r\n  productDetails: productDetailsReducer,\r\n  cart: cartReducer,\r\n  userSignin: userSigninReducer,\r\n  userRegister: userRegisterReducer,\r\n\r\n  orderCreate: orderCreateReducer,\r\n  orderDetails: orderDetailsReducer,\r\n  orderPay: orderPayReducer,\r\n  orderMineList: orderMineListReducer,\r\n  \r\n  userDetails: userDetailsReducer,\r\n  userUpdateProfile: userUpdateProfileReducer,\r\n  userUpdate: userUpdateReducer,\r\n  \r\n  productCreate: productCreateReducer,\r\n  productUpdate: productUpdateReducer,\r\n  productDelete: productDeleteReducer,\r\n  \r\n  orderList: orderListReducer,\r\n  orderDelete: orderDeleteReducer,\r\n  orderDeliver: orderDeliverReducer,\r\n  \r\n  userList: userListReducer,\r\n  userDelete: userDeleteReducer,\r\n  userTopSellersList: userTopSellerListReducer,\r\n  \r\n  productCategoryList: productCategoryListReducer,\r\n  productReviewCreate: productReviewCreateReducer,\r\n  \r\n  userAddressMap: userAddressMapReducer,\r\n  \r\n  orderSummary: orderSummaryReducer,\r\n});\r\nconst composeEnhancer = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nconst store = createStore(\r\n  reducer,\r\n  initialState,\r\n  composeEnhancer(applyMiddleware(thunk))\r\n);\r\n\r\nexport default store;","import {\r\n  CART_ADD_ITEM,\r\n  CART_ADD_ITEM_FAIL,\r\n  CART_EMPTY,\r\n  CART_REMOVE_ITEM,\r\n  CART_SAVE_PAYMENT_METHOD,\r\n  CART_SAVE_SHIPPING_ADDRESS,\r\n} from '../constants/cartConstants';\r\n\r\nexport const cartReducer = (state = { cartItems: [] }, action) => {\r\n  switch (action.type) {\r\n    case CART_ADD_ITEM:\r\n      const item = action.payload;\r\n      const existItem = state.cartItems.find((x) => x.product === item.product);\r\n      if (existItem) {\r\n        return {\r\n          ...state,\r\n          error: '',\r\n          cartItems: state.cartItems.map((x) =>\r\n            x.product === existItem.product ? item : x\r\n          ),\r\n        };\r\n      } else {\r\n        return { ...state, error: '', cartItems: [...state.cartItems, item] };\r\n      }\r\n    case CART_REMOVE_ITEM:\r\n      return {\r\n        ...state,\r\n        error: '',\r\n        cartItems: state.cartItems.filter((x) => x.product !== action.payload),\r\n      };\r\n    case CART_SAVE_SHIPPING_ADDRESS:\r\n      return { ...state, shippingAddress: action.payload };\r\n    case CART_SAVE_PAYMENT_METHOD:\r\n      return { ...state, paymentMethod: action.payload };\r\n    case CART_ADD_ITEM_FAIL:\r\n      return { ...state, error: action.payload };\r\n    case CART_EMPTY:\r\n      return { ...state, error: '', cartItems: [] };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import {\r\n  USER_ADDRESS_MAP_CONFIRM,\r\n  USER_DELETE_FAIL,\r\n  USER_DELETE_REQUEST,\r\n  USER_DELETE_RESET,\r\n  USER_DELETE_SUCCESS,\r\n  USER_DETAILS_FAIL,\r\n  USER_DETAILS_REQUEST,\r\n  USER_DETAILS_RESET,\r\n  USER_DETAILS_SUCCESS,\r\n  USER_LIST_FAIL,\r\n  USER_LIST_REQUEST,\r\n  USER_LIST_SUCCESS,\r\n  USER_REGISTER_FAIL,\r\n  USER_REGISTER_REQUEST,\r\n  USER_REGISTER_SUCCESS,\r\n  USER_SIGNIN_FAIL,\r\n  USER_SIGNIN_REQUEST,\r\n  USER_SIGNIN_SUCCESS,\r\n  USER_SIGNOUT,\r\n  USER_TOPSELLERS_LIST_FAIL,\r\n  USER_TOPSELLERS_LIST_REQUEST,\r\n  USER_TOPSELLERS_LIST_SUCCESS,\r\n  USER_UPDATE_FAIL,\r\n  USER_UPDATE_PROFILE_FAIL,\r\n  USER_UPDATE_PROFILE_REQUEST,\r\n  USER_UPDATE_PROFILE_RESET,\r\n  USER_UPDATE_PROFILE_SUCCESS,\r\n  USER_UPDATE_REQUEST,\r\n  USER_UPDATE_RESET,\r\n  USER_UPDATE_SUCCESS,\r\n} from '../constants/userConstants';\r\n\r\nexport const userRegisterReducer = (state = {}, action) => {\r\n  switch (action.type) {\r\n    case USER_REGISTER_REQUEST:\r\n      return { loading: true };\r\n    case USER_REGISTER_SUCCESS:\r\n      return { loading: false, userInfo: action.payload };\r\n    case USER_REGISTER_FAIL:\r\n      return { loading: false, error: action.payload };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport const userSigninReducer = (state = {}, action) => {\r\n  switch (action.type) {\r\n    case USER_SIGNIN_REQUEST:\r\n      return { loading: true };\r\n    case USER_SIGNIN_SUCCESS:\r\n      return { loading: false, userInfo: action.payload };\r\n    case USER_SIGNIN_FAIL:\r\n      return { loading: false, error: action.payload };\r\n    case USER_SIGNOUT:\r\n      return {};\r\n    default:\r\n      return state;\r\n  }\r\n};\r\nexport const userDetailsReducer = (state = { loading: true }, action) => {\r\n  switch (action.type) {\r\n    case USER_DETAILS_REQUEST:\r\n      return { loading: true };\r\n    case USER_DETAILS_SUCCESS:\r\n      return { loading: false, user: action.payload };\r\n    case USER_DETAILS_FAIL:\r\n      return { loading: false, error: action.payload };\r\n    case USER_DETAILS_RESET:\r\n      return { loading: true };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\nexport const userUpdateProfileReducer = (state = {}, action) => {\r\n  switch (action.type) {\r\n    case USER_UPDATE_PROFILE_REQUEST:\r\n      return { loading: true };\r\n    case USER_UPDATE_PROFILE_SUCCESS:\r\n      return { loading: false, success: true };\r\n    case USER_UPDATE_PROFILE_FAIL:\r\n      return { loading: false, error: action.payload };\r\n    case USER_UPDATE_PROFILE_RESET:\r\n      return {};\r\n    default:\r\n      return state;\r\n  }\r\n};\r\nexport const userUpdateReducer = (state = {}, action) => {\r\n  switch (action.type) {\r\n    case USER_UPDATE_REQUEST:\r\n      return { loading: true };\r\n    case USER_UPDATE_SUCCESS:\r\n      return { loading: false, success: true };\r\n    case USER_UPDATE_FAIL:\r\n      return { loading: false, error: action.payload };\r\n    case USER_UPDATE_RESET:\r\n      return {};\r\n    default:\r\n      return state;\r\n  }\r\n};\r\nexport const userListReducer = (state = { loading: true }, action) => {\r\n  switch (action.type) {\r\n    case USER_LIST_REQUEST:\r\n      return { loading: true };\r\n    case USER_LIST_SUCCESS:\r\n      return { loading: false, users: action.payload };\r\n    case USER_LIST_FAIL:\r\n      return { loading: false, error: action.payload };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\nexport const userDeleteReducer = (state = {}, action) => {\r\n  switch (action.type) {\r\n    case USER_DELETE_REQUEST:\r\n      return { loading: true };\r\n    case USER_DELETE_SUCCESS:\r\n      return { loading: false, success: true };\r\n    case USER_DELETE_FAIL:\r\n      return { loading: false, error: action.payload };\r\n    case USER_DELETE_RESET:\r\n      return {};\r\n    default:\r\n      return state;\r\n  }\r\n};\r\nexport const userTopSellerListReducer = (state = { loading: true }, action) => {\r\n  switch (action.type) {\r\n    case USER_TOPSELLERS_LIST_REQUEST:\r\n      return { loading: true };\r\n    case USER_TOPSELLERS_LIST_SUCCESS:\r\n      return { loading: false, users: action.payload };\r\n    case USER_TOPSELLERS_LIST_FAIL:\r\n      return { loading: false, error: action.payload };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport const userAddressMapReducer = (state = {}, action) => {\r\n  switch (action.type) {\r\n    case USER_ADDRESS_MAP_CONFIRM:\r\n      return { address: action.payload };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import {\r\n  ORDER_CREATE_FAIL,\r\n  ORDER_CREATE_REQUEST,\r\n  ORDER_CREATE_RESET,\r\n  ORDER_CREATE_SUCCESS,\r\n  ORDER_DETAILS_FAIL,\r\n  ORDER_DETAILS_REQUEST,\r\n  ORDER_DETAILS_SUCCESS,\r\n  ORDER_MINE_LIST_FAIL,\r\n  ORDER_MINE_LIST_REQUEST,\r\n  ORDER_MINE_LIST_SUCCESS,\r\n  ORDER_PAY_FAIL,\r\n  ORDER_PAY_REQUEST,\r\n  ORDER_PAY_RESET,\r\n  ORDER_PAY_SUCCESS,\r\n  ORDER_LIST_REQUEST,\r\n  ORDER_LIST_SUCCESS,\r\n  ORDER_LIST_FAIL,\r\n  ORDER_DELETE_REQUEST,\r\n  ORDER_DELETE_SUCCESS,\r\n  ORDER_DELETE_FAIL,\r\n  ORDER_DELETE_RESET,\r\n  ORDER_DELIVER_REQUEST,\r\n  ORDER_DELIVER_SUCCESS,\r\n  ORDER_DELIVER_FAIL,\r\n  ORDER_DELIVER_RESET,\r\n  ORDER_SUMMARY_REQUEST,\r\n  ORDER_SUMMARY_SUCCESS,\r\n  ORDER_SUMMARY_FAIL,\r\n} from '../constants/orderConstants';\r\n\r\nexport const orderCreateReducer = (state = {}, action) => {\r\n  switch (action.type) {\r\n    case ORDER_CREATE_REQUEST:\r\n      return { loading: true };\r\n    case ORDER_CREATE_SUCCESS:\r\n      return { loading: false, success: true, order: action.payload };\r\n    case ORDER_CREATE_FAIL:\r\n      return { loading: false, error: action.payload };\r\n    case ORDER_CREATE_RESET:\r\n      return {};\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport const orderDetailsReducer = (state = { loading: true }, action) => {\r\n  switch (action.type) {\r\n    case ORDER_DETAILS_REQUEST:\r\n      return { loading: true };\r\n    case ORDER_DETAILS_SUCCESS:\r\n      return { loading: false, order: action.payload };\r\n    case ORDER_DETAILS_FAIL:\r\n      return { loading: false, error: action.payload };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport const orderPayReducer = (state = {}, action) => {\r\n  switch (action.type) {\r\n    case ORDER_PAY_REQUEST:\r\n      return { loading: true };\r\n    case ORDER_PAY_SUCCESS:\r\n      return { loading: false, success: true };\r\n    case ORDER_PAY_FAIL:\r\n      return { loading: false, error: action.payload };\r\n    case ORDER_PAY_RESET:\r\n      return {};\r\n    default:\r\n      return state;\r\n  }\r\n};\r\nexport const orderMineListReducer = (state = { orders: [] }, action) => {\r\n  switch (action.type) {\r\n    case ORDER_MINE_LIST_REQUEST:\r\n      return { loading: true };\r\n    case ORDER_MINE_LIST_SUCCESS:\r\n      return { loading: false, orders: action.payload };\r\n    case ORDER_MINE_LIST_FAIL:\r\n      return { loading: false, error: action.payload };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\nexport const orderListReducer = (state = { orders: [] }, action) => {\r\n  switch (action.type) {\r\n    case ORDER_LIST_REQUEST:\r\n      return { loading: true };\r\n    case ORDER_LIST_SUCCESS:\r\n      return { loading: false, orders: action.payload };\r\n    case ORDER_LIST_FAIL:\r\n      return { loading: false, error: action.payload };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\nexport const orderDeleteReducer = (state = {}, action) => {\r\n  switch (action.type) {\r\n    case ORDER_DELETE_REQUEST:\r\n      return { loading: true };\r\n    case ORDER_DELETE_SUCCESS:\r\n      return { loading: false, success: true };\r\n    case ORDER_DELETE_FAIL:\r\n      return { loading: false, error: action.payload };\r\n    case ORDER_DELETE_RESET:\r\n      return {};\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport const orderDeliverReducer = (state = {}, action) => {\r\n  switch (action.type) {\r\n    case ORDER_DELIVER_REQUEST:\r\n      return { loading: true };\r\n    case ORDER_DELIVER_SUCCESS:\r\n      return { loading: false, success: true };\r\n    case ORDER_DELIVER_FAIL:\r\n      return { loading: false, error: action.payload };\r\n    case ORDER_DELIVER_RESET:\r\n      return {};\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport const orderSummaryReducer = (\r\n  state = { loading: true, summary: {} },\r\n  action\r\n) => {\r\n  switch (action.type) {\r\n    case ORDER_SUMMARY_REQUEST:\r\n      return { loading: true };\r\n    case ORDER_SUMMARY_SUCCESS:\r\n      return { loading: false, summary: action.payload };\r\n    case ORDER_SUMMARY_FAIL:\r\n      return { loading: false, error: action.payload };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import React from 'react';\r\nimport { Provider } from 'react-redux';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport store from './store';\r\n\r\nReactDOM.render(\r\n  <Provider store={store}>\r\n    <React.StrictMode>\r\n      <App />\r\n    </React.StrictMode>\r\n  </Provider>,\r\n  document.getElementById('root')\r\n);\r\n","export const PRODUCT_LIST_REQUEST = 'PRODUCT_LIST_REQUEST';\r\nexport const PRODUCT_LIST_SUCCESS = 'PRODUCT_LIST_SUCCESS';\r\nexport const PRODUCT_LIST_FAIL = 'PRODUCT_LIST_FAIL';\r\n\r\nexport const PRODUCT_DETAILS_REQUEST = 'PRODUCT_DETAILS_REQUEST';\r\nexport const PRODUCT_DETAILS_SUCCESS = 'PRODUCT_DETAILS_SUCCESS';\r\nexport const PRODUCT_DETAILS_FAIL = 'PRODUCT_DETAILS_FAIL';\r\n\r\nexport const PRODUCT_CREATE_REQUEST = 'PRODUCT_CREATE_REQUEST';\r\nexport const PRODUCT_CREATE_SUCCESS = 'PRODUCT_CREATE_SUCCESS';\r\nexport const PRODUCT_CREATE_FAIL = 'PRODUCT_CREATE_FAIL';\r\nexport const PRODUCT_CREATE_RESET = 'PRODUCT_CREATE_RESET';\r\n\r\nexport const PRODUCT_REVIEW_CREATE_REQUEST = 'PRODUCT_REVIEW_CREATE_REQUEST';\r\nexport const PRODUCT_REVIEW_CREATE_SUCCESS = 'PRODUCT_REVIEW_CREATE_SUCCESS';\r\nexport const PRODUCT_REVIEW_CREATE_FAIL = 'PRODUCT_REVIEW_CREATE_FAIL';\r\nexport const PRODUCT_REVIEW_CREATE_RESET = 'PRODUCT_REVIEW_CREATE_RESET';\r\n\r\nexport const PRODUCT_UPDATE_REQUEST = 'PRODUCT_UPDATE_REQUEST';\r\nexport const PRODUCT_UPDATE_SUCCESS = 'PRODUCT_UPDATE_SUCCESS';\r\nexport const PRODUCT_UPDATE_FAIL = 'PRODUCT_UPDATE_FAIL';\r\nexport const PRODUCT_UPDATE_RESET = 'PRODUCT_UPDATE_RESET';\r\n\r\nexport const PRODUCT_DELETE_REQUEST = 'PRODUCT_DELETE_REQUEST';\r\nexport const PRODUCT_DELETE_SUCCESS = 'PRODUCT_DELETE_SUCCESS';\r\nexport const PRODUCT_DELETE_FAIL = 'PRODUCT_DELETE_FAIL';\r\nexport const PRODUCT_DELETE_RESET = 'PRODUCT_DELETE_RESET';\r\n\r\nexport const PRODUCT_CATEGORY_LIST_REQUEST = 'PRODUCT_CATEGORY_LIST_REQUEST';\r\nexport const PRODUCT_CATEGORY_LIST_SUCCESS = 'PRODUCT_CATEGORY_LIST_SUCCESS';\r\nexport const PRODUCT_CATEGORY_LIST_FAIL = 'PRODUCT_CATEGORY_LIST_FAIL';\r\n"],"sourceRoot":""}